import{c as _t,i as Bn,e as Dt,r as X,a as S,w as me,o as zn,h as wa,b as p,l as Kn,g as xt,d as mn,u as Ma,_ as Qt,f as Te,j as xe,k as U,m as q,Q as re,n as Xt,p as Ft,q as jn,t as Et,s as de,v as Be,x as Aa,y as Da,z as Ca,A as Ea,B as xa,C as Jt,D as Ia,E as zt,F as vn,G as Tn,H as hn,P as Wn,I as Oa,J as Qn,K as gn,L as yn,M as Gn,T as At,N as Zn,O as Xn,R as La,S as Kt,U as un,V as pn,W as jt,X as bt,Y as St,Z as Ra,$ as Na,a0 as Jn,a1 as Ct,a2 as Va,a3 as kn,a4 as ea,a5 as Ha,a6 as qa,a7 as $a,a8 as Ya,a9 as wn,aa as Pa,ab as Wt,ac as Fa,ad as Ua,ae as Ba}from"./index.46a27899.js";import{Q as za,a as Ka,u as ja,b as Wa,c as Qa,d as Ga}from"./QToolbar.3af662a7.js";import{Q as Za,a as ta,u as Xa,b as Ja}from"./QBtnDropdown.37bf428f.js";import{Q as na}from"./QResizeObserver.5ab78c49.js";import{C as ut}from"./ClosePopup.084ab801.js";import{Q as el,a as tl}from"./QLayout.47228676.js";import{T as aa,Q as nl}from"./TouchPan.80a33224.js";import{u as al}from"./layout.ddc5d6ce.js";import{d as tt}from"./dayjs.25ede11f.js";import{Q as ll,a as ol}from"./QItemLabel.0564320f.js";import{Q as rl}from"./QSlideTransition.69f0c632.js";import{c as Mn}from"./currency.es.c7e1cdbb.js";import{A as An,P as Dn,T as Cn}from"./index.aaff5540.js";import"./selection.f172ea0a.js";import"./use-page-sticky.f7fef31c.js";import"./_commonjsHelpers.2cf1d77b.js";/*! @license DOMPurify 3.0.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.0.6/LICENSE */const{entries:la,setPrototypeOf:En,isFrozen:il,getPrototypeOf:ul,getOwnPropertyDescriptor:oa}=Object;let{freeze:Le,seal:Ze,create:ra}=Object,{apply:sn,construct:cn}=typeof Reflect!="undefined"&&Reflect;Le||(Le=function(t){return t});Ze||(Ze=function(t){return t});sn||(sn=function(t,a,r){return t.apply(a,r)});cn||(cn=function(t,a){return new t(...a)});const qt=We(Array.prototype.forEach),xn=We(Array.prototype.pop),Rt=We(Array.prototype.push),Ut=We(String.prototype.toLowerCase),en=We(String.prototype.toString),sl=We(String.prototype.match),Nt=We(String.prototype.replace),cl=We(String.prototype.indexOf),dl=We(String.prototype.trim),Fe=We(RegExp.prototype.test),Vt=fl(TypeError);function We(e){return function(t){for(var a=arguments.length,r=new Array(a>1?a-1:0),l=1;l<a;l++)r[l-1]=arguments[l];return sn(e,t,r)}}function fl(e){return function(){for(var t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return cn(e,a)}}function K(e,t){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ut;En&&En(e,null);let r=t.length;for(;r--;){let l=t[r];if(typeof l=="string"){const u=a(l);u!==l&&(il(t)||(t[r]=u),l=u)}e[l]=!0}return e}function wt(e){const t=ra(null);for(const[a,r]of la(e))oa(e,a)!==void 0&&(t[a]=r);return t}function $t(e,t){for(;e!==null;){const r=oa(e,t);if(r){if(r.get)return We(r.get);if(typeof r.value=="function")return We(r.value)}e=ul(e)}function a(r){return console.warn("fallback value for",r),null}return a}const In=Le(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),tn=Le(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),nn=Le(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),ml=Le(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),an=Le(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),vl=Le(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),On=Le(["#text"]),Ln=Le(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),ln=Le(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Rn=Le(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Yt=Le(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),hl=Ze(/\{\{[\w\W]*|[\w\W]*\}\}/gm),gl=Ze(/<%[\w\W]*|[\w\W]*%>/gm),yl=Ze(/\${[\w\W]*}/gm),pl=Ze(/^data-[\-\w.\u00B7-\uFFFF]/),_l=Ze(/^aria-[\-\w]+$/),ia=Ze(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),bl=Ze(/^(?:\w+script|data):/i),Sl=Ze(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),ua=Ze(/^html$/i);var Nn=Object.freeze({__proto__:null,MUSTACHE_EXPR:hl,ERB_EXPR:gl,TMPLIT_EXPR:yl,DATA_ATTR:pl,ARIA_ATTR:_l,IS_ALLOWED_URI:ia,IS_SCRIPT_OR_DATA:bl,ATTR_WHITESPACE:Sl,DOCTYPE_NAME:ua});const Tl=function(){return typeof window=="undefined"?null:window},kl=function(t,a){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let r=null;const l="data-tt-policy-suffix";a&&a.hasAttribute(l)&&(r=a.getAttribute(l));const u="dompurify"+(r?"#"+r:"");try{return t.createPolicy(u,{createHTML(y){return y},createScriptURL(y){return y}})}catch{return console.warn("TrustedTypes policy "+u+" could not be created."),null}};function sa(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Tl();const t=O=>sa(O);if(t.version="3.0.6",t.removed=[],!e||!e.document||e.document.nodeType!==9)return t.isSupported=!1,t;let{document:a}=e;const r=a,l=r.currentScript,{DocumentFragment:u,HTMLTemplateElement:y,Node:s,Element:v,NodeFilter:w,NamedNodeMap:m=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:_,DOMParser:N,trustedTypes:V}=e,Q=v.prototype,Y=$t(Q,"cloneNode"),B=$t(Q,"nextSibling"),ve=$t(Q,"childNodes"),R=$t(Q,"parentNode");if(typeof y=="function"){const O=a.createElement("template");O.content&&O.content.ownerDocument&&(a=O.content.ownerDocument)}let D,g="";const{implementation:C,createNodeIterator:_e,createDocumentFragment:Ie,getElementsByTagName:ge}=a,{importNode:Xe}=r;let be={};t.isSupported=typeof la=="function"&&typeof R=="function"&&C&&C.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:se,ERB_EXPR:Ve,TMPLIT_EXPR:ke,DATA_ATTR:Oe,ARIA_ATTR:we,IS_SCRIPT_OR_DATA:He,ATTR_WHITESPACE:ye}=Nn;let{IS_ALLOWED_URI:Ae}=Nn,ne=null;const ze=K({},[...In,...tn,...nn,...an,...On]);let J=null;const h=K({},[...Ln,...ln,...Rn,...Yt]);let k=Object.seal(ra(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),f=null,$=null,E=!0,j=!0,ee=!1,Se=!0,ae=!1,Z=!1,le=!1,Ke=!1,De=!1,qe=!1,Me=!1,H=!0,ie=!1;const st="user-content-";let je=!0,$e=!1,Ye={},Qe=null;const vt=K({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let ht=null;const Je=K({},["audio","video","img","source","image","track"]);let Ge=null;const nt=K({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),et="http://www.w3.org/1998/Math/MathML",at="http://www.w3.org/2000/svg",d="http://www.w3.org/1999/xhtml";let b=d,L=!1,W=null;const ce=K({},[et,at,d],en);let pe=null;const P=["application/xhtml+xml","text/html"],he="text/html";let te=null,Pe=null;const Tt=a.createElement("form"),lt=function(i){return i instanceof RegExp||i instanceof Function},gt=function(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Pe&&Pe===i)){if((!i||typeof i!="object")&&(i={}),i=wt(i),pe=P.indexOf(i.PARSER_MEDIA_TYPE)===-1?pe=he:pe=i.PARSER_MEDIA_TYPE,te=pe==="application/xhtml+xml"?en:Ut,ne="ALLOWED_TAGS"in i?K({},i.ALLOWED_TAGS,te):ze,J="ALLOWED_ATTR"in i?K({},i.ALLOWED_ATTR,te):h,W="ALLOWED_NAMESPACES"in i?K({},i.ALLOWED_NAMESPACES,en):ce,Ge="ADD_URI_SAFE_ATTR"in i?K(wt(nt),i.ADD_URI_SAFE_ATTR,te):nt,ht="ADD_DATA_URI_TAGS"in i?K(wt(Je),i.ADD_DATA_URI_TAGS,te):Je,Qe="FORBID_CONTENTS"in i?K({},i.FORBID_CONTENTS,te):vt,f="FORBID_TAGS"in i?K({},i.FORBID_TAGS,te):{},$="FORBID_ATTR"in i?K({},i.FORBID_ATTR,te):{},Ye="USE_PROFILES"in i?i.USE_PROFILES:!1,E=i.ALLOW_ARIA_ATTR!==!1,j=i.ALLOW_DATA_ATTR!==!1,ee=i.ALLOW_UNKNOWN_PROTOCOLS||!1,Se=i.ALLOW_SELF_CLOSE_IN_ATTR!==!1,ae=i.SAFE_FOR_TEMPLATES||!1,Z=i.WHOLE_DOCUMENT||!1,De=i.RETURN_DOM||!1,qe=i.RETURN_DOM_FRAGMENT||!1,Me=i.RETURN_TRUSTED_TYPE||!1,Ke=i.FORCE_BODY||!1,H=i.SANITIZE_DOM!==!1,ie=i.SANITIZE_NAMED_PROPS||!1,je=i.KEEP_CONTENT!==!1,$e=i.IN_PLACE||!1,Ae=i.ALLOWED_URI_REGEXP||ia,b=i.NAMESPACE||d,k=i.CUSTOM_ELEMENT_HANDLING||{},i.CUSTOM_ELEMENT_HANDLING&&lt(i.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(k.tagNameCheck=i.CUSTOM_ELEMENT_HANDLING.tagNameCheck),i.CUSTOM_ELEMENT_HANDLING&&lt(i.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(k.attributeNameCheck=i.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),i.CUSTOM_ELEMENT_HANDLING&&typeof i.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(k.allowCustomizedBuiltInElements=i.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ae&&(j=!1),qe&&(De=!0),Ye&&(ne=K({},[...On]),J=[],Ye.html===!0&&(K(ne,In),K(J,Ln)),Ye.svg===!0&&(K(ne,tn),K(J,ln),K(J,Yt)),Ye.svgFilters===!0&&(K(ne,nn),K(J,ln),K(J,Yt)),Ye.mathMl===!0&&(K(ne,an),K(J,Rn),K(J,Yt))),i.ADD_TAGS&&(ne===ze&&(ne=wt(ne)),K(ne,i.ADD_TAGS,te)),i.ADD_ATTR&&(J===h&&(J=wt(J)),K(J,i.ADD_ATTR,te)),i.ADD_URI_SAFE_ATTR&&K(Ge,i.ADD_URI_SAFE_ATTR,te),i.FORBID_CONTENTS&&(Qe===vt&&(Qe=wt(Qe)),K(Qe,i.FORBID_CONTENTS,te)),je&&(ne["#text"]=!0),Z&&K(ne,["html","head","body"]),ne.table&&(K(ne,["tbody"]),delete f.tbody),i.TRUSTED_TYPES_POLICY){if(typeof i.TRUSTED_TYPES_POLICY.createHTML!="function")throw Vt('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof i.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Vt('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');D=i.TRUSTED_TYPES_POLICY,g=D.createHTML("")}else D===void 0&&(D=kl(V,l)),D!==null&&typeof g=="string"&&(g=D.createHTML(""));Le&&Le(i),Pe=i}},kt=K({},["mi","mo","mn","ms","mtext"]),It=K({},["foreignobject","desc","title","annotation-xml"]),Gt=K({},["title","style","font","a","script"]),ct=K({},tn);K(ct,nn),K(ct,ml);const Ot=K({},an);K(Ot,vl);const Zt=function(i){let T=R(i);(!T||!T.tagName)&&(T={namespaceURI:b,tagName:"template"});const I=Ut(i.tagName),ue=Ut(T.tagName);return W[i.namespaceURI]?i.namespaceURI===at?T.namespaceURI===d?I==="svg":T.namespaceURI===et?I==="svg"&&(ue==="annotation-xml"||kt[ue]):Boolean(ct[I]):i.namespaceURI===et?T.namespaceURI===d?I==="math":T.namespaceURI===at?I==="math"&&It[ue]:Boolean(Ot[I]):i.namespaceURI===d?T.namespaceURI===at&&!It[ue]||T.namespaceURI===et&&!kt[ue]?!1:!Ot[I]&&(Gt[I]||!ct[I]):!!(pe==="application/xhtml+xml"&&W[i.namespaceURI]):!1},ot=function(i){Rt(t.removed,{element:i});try{i.parentNode.removeChild(i)}catch{i.remove()}},n=function(i,T){try{Rt(t.removed,{attribute:T.getAttributeNode(i),from:T})}catch{Rt(t.removed,{attribute:null,from:T})}if(T.removeAttribute(i),i==="is"&&!J[i])if(De||qe)try{ot(T)}catch{}else try{T.setAttribute(i,"")}catch{}},o=function(i){let T=null,I=null;if(Ke)i="<remove></remove>"+i;else{const Ee=sl(i,/^[\r\n\t ]+/);I=Ee&&Ee[0]}pe==="application/xhtml+xml"&&b===d&&(i='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+i+"</body></html>");const ue=D?D.createHTML(i):i;if(b===d)try{T=new N().parseFromString(ue,pe)}catch{}if(!T||!T.documentElement){T=C.createDocument(b,"template",null);try{T.documentElement.innerHTML=L?g:ue}catch{}}const Ce=T.body||T.documentElement;return i&&I&&Ce.insertBefore(a.createTextNode(I),Ce.childNodes[0]||null),b===d?ge.call(T,Z?"html":"body")[0]:Z?T.documentElement:Ce},c=function(i){return _e.call(i.ownerDocument||i,i,w.SHOW_ELEMENT|w.SHOW_COMMENT|w.SHOW_TEXT,null)},M=function(i){return i instanceof _&&(typeof i.nodeName!="string"||typeof i.textContent!="string"||typeof i.removeChild!="function"||!(i.attributes instanceof m)||typeof i.removeAttribute!="function"||typeof i.setAttribute!="function"||typeof i.namespaceURI!="string"||typeof i.insertBefore!="function"||typeof i.hasChildNodes!="function")},A=function(i){return typeof s=="function"&&i instanceof s},z=function(i,T,I){!be[i]||qt(be[i],ue=>{ue.call(t,T,I,Pe)})},x=function(i){let T=null;if(z("beforeSanitizeElements",i,null),M(i))return ot(i),!0;const I=te(i.nodeName);if(z("uponSanitizeElement",i,{tagName:I,allowedTags:ne}),i.hasChildNodes()&&!A(i.firstElementChild)&&Fe(/<[/\w]/g,i.innerHTML)&&Fe(/<[/\w]/g,i.textContent))return ot(i),!0;if(!ne[I]||f[I]){if(!f[I]&&oe(I)&&(k.tagNameCheck instanceof RegExp&&Fe(k.tagNameCheck,I)||k.tagNameCheck instanceof Function&&k.tagNameCheck(I)))return!1;if(je&&!Qe[I]){const ue=R(i)||i.parentNode,Ce=ve(i)||i.childNodes;if(Ce&&ue){const Ee=Ce.length;for(let Re=Ee-1;Re>=0;--Re)ue.insertBefore(Y(Ce[Re],!0),B(i))}}return ot(i),!0}return i instanceof v&&!Zt(i)||(I==="noscript"||I==="noembed"||I==="noframes")&&Fe(/<\/no(script|embed|frames)/i,i.innerHTML)?(ot(i),!0):(ae&&i.nodeType===3&&(T=i.textContent,qt([se,Ve,ke],ue=>{T=Nt(T,ue," ")}),i.textContent!==T&&(Rt(t.removed,{element:i.cloneNode()}),i.textContent=T)),z("afterSanitizeElements",i,null),!1)},F=function(i,T,I){if(H&&(T==="id"||T==="name")&&(I in a||I in Tt))return!1;if(!(j&&!$[T]&&Fe(Oe,T))){if(!(E&&Fe(we,T))){if(!J[T]||$[T]){if(!(oe(i)&&(k.tagNameCheck instanceof RegExp&&Fe(k.tagNameCheck,i)||k.tagNameCheck instanceof Function&&k.tagNameCheck(i))&&(k.attributeNameCheck instanceof RegExp&&Fe(k.attributeNameCheck,T)||k.attributeNameCheck instanceof Function&&k.attributeNameCheck(T))||T==="is"&&k.allowCustomizedBuiltInElements&&(k.tagNameCheck instanceof RegExp&&Fe(k.tagNameCheck,I)||k.tagNameCheck instanceof Function&&k.tagNameCheck(I))))return!1}else if(!Ge[T]){if(!Fe(Ae,Nt(I,ye,""))){if(!((T==="src"||T==="xlink:href"||T==="href")&&i!=="script"&&cl(I,"data:")===0&&ht[i])){if(!(ee&&!Fe(He,Nt(I,ye,"")))){if(I)return!1}}}}}}return!0},oe=function(i){return i.indexOf("-")>0},dt=function(i){z("beforeSanitizeAttributes",i,null);const{attributes:T}=i;if(!T)return;const I={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:J};let ue=T.length;for(;ue--;){const Ce=T[ue],{name:Ee,namespaceURI:Re,value:yt}=Ce,Lt=te(Ee);let Ne=Ee==="value"?yt:dl(yt);if(I.attrName=Lt,I.attrValue=Ne,I.keepAttr=!0,I.forceKeepAttr=void 0,z("uponSanitizeAttribute",i,I),Ne=I.attrValue,I.forceKeepAttr||(n(Ee,i),!I.keepAttr))continue;if(!Se&&Fe(/\/>/i,Ne)){n(Ee,i);continue}ae&&qt([se,Ve,ke],Sn=>{Ne=Nt(Ne,Sn," ")});const bn=te(i.nodeName);if(!!F(bn,Lt,Ne)){if(ie&&(Lt==="id"||Lt==="name")&&(n(Ee,i),Ne=st+Ne),D&&typeof V=="object"&&typeof V.getAttributeType=="function"&&!Re)switch(V.getAttributeType(bn,Lt)){case"TrustedHTML":{Ne=D.createHTML(Ne);break}case"TrustedScriptURL":{Ne=D.createScriptURL(Ne);break}}try{Re?i.setAttributeNS(Re,Ee,Ne):i.setAttribute(Ee,Ne),xn(t.removed)}catch{}}}z("afterSanitizeAttributes",i,null)},ka=function O(i){let T=null;const I=c(i);for(z("beforeSanitizeShadowDOM",i,null);T=I.nextNode();)z("uponSanitizeShadowNode",T,null),!x(T)&&(T.content instanceof u&&O(T.content),dt(T));z("afterSanitizeShadowDOM",i,null)};return t.sanitize=function(O){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},T=null,I=null,ue=null,Ce=null;if(L=!O,L&&(O="<!-->"),typeof O!="string"&&!A(O))if(typeof O.toString=="function"){if(O=O.toString(),typeof O!="string")throw Vt("dirty is not a string, aborting")}else throw Vt("toString is not a function");if(!t.isSupported)return O;if(le||gt(i),t.removed=[],typeof O=="string"&&($e=!1),$e){if(O.nodeName){const yt=te(O.nodeName);if(!ne[yt]||f[yt])throw Vt("root node is forbidden and cannot be sanitized in-place")}}else if(O instanceof s)T=o("<!---->"),I=T.ownerDocument.importNode(O,!0),I.nodeType===1&&I.nodeName==="BODY"||I.nodeName==="HTML"?T=I:T.appendChild(I);else{if(!De&&!ae&&!Z&&O.indexOf("<")===-1)return D&&Me?D.createHTML(O):O;if(T=o(O),!T)return De?null:Me?g:""}T&&Ke&&ot(T.firstChild);const Ee=c($e?O:T);for(;ue=Ee.nextNode();)x(ue)||(ue.content instanceof u&&ka(ue.content),dt(ue));if($e)return O;if(De){if(qe)for(Ce=Ie.call(T.ownerDocument);T.firstChild;)Ce.appendChild(T.firstChild);else Ce=T;return(J.shadowroot||J.shadowrootmode)&&(Ce=Xe.call(r,Ce,!0)),Ce}let Re=Z?T.outerHTML:T.innerHTML;return Z&&ne["!doctype"]&&T.ownerDocument&&T.ownerDocument.doctype&&T.ownerDocument.doctype.name&&Fe(ua,T.ownerDocument.doctype.name)&&(Re="<!DOCTYPE "+T.ownerDocument.doctype.name+`>
`+Re),ae&&qt([se,Ve,ke],yt=>{Re=Nt(Re,yt," ")}),D&&Me?D.createHTML(Re):Re},t.setConfig=function(){let O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};gt(O),le=!0},t.clearConfig=function(){Pe=null,le=!1},t.isValidAttribute=function(O,i,T){Pe||gt({});const I=te(O),ue=te(i);return F(I,ue,T)},t.addHook=function(O,i){typeof i=="function"&&(be[O]=be[O]||[],Rt(be[O],i))},t.removeHook=function(O){if(be[O])return xn(be[O])},t.removeHooks=function(O){be[O]&&(be[O]=[])},t.removeAllHooks=function(){be={}},t}var wl=sa();function Ml(e,t){var l;const a=(l=e.hooks)!=null?l:{};let r;for(r in a){const u=a[r];u!==void 0&&t.addHook(r,u)}}function ca(){return wl()}function Al(e={},t=ca){const a=t();Ml(e,a);const r=function(l,u){var _,N;const y=u.value;if(u.oldValue===y)return;const s=`${y}`,v=u.arg,w=e.namedConfigurations,m=(_=e.default)!=null?_:{};if(w&&v!==void 0){l.innerHTML=a.sanitize(s,(N=w[v])!=null?N:m);return}l.innerHTML=a.sanitize(s,m)};return{mounted:r,updated:r}}const Dl={install(e,t={},a=ca){e.directive("dompurify-html",Al(t,a))}};var Cl=_t({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:t,emit:a}){const{proxy:{$q:r}}=xt(),l=Bn(Kn,Dt);if(l===Dt)return console.error("QHeader needs to be child of QLayout"),Dt;const u=X(parseInt(e.heightHint,10)),y=X(!0),s=S(()=>e.reveal===!0||l.view.value.indexOf("H")>-1||r.platform.is.ios&&l.isContainer.value===!0),v=S(()=>{if(e.modelValue!==!0)return 0;if(s.value===!0)return y.value===!0?u.value:0;const R=u.value-l.scroll.value.position;return R>0?R:0}),w=S(()=>e.modelValue!==!0||s.value===!0&&y.value!==!0),m=S(()=>e.modelValue===!0&&w.value===!0&&e.reveal===!0),_=S(()=>"q-header q-layout__section--marginal "+(s.value===!0?"fixed":"absolute")+"-top"+(e.bordered===!0?" q-header--bordered":"")+(w.value===!0?" q-header--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus":"")),N=S(()=>{const R=l.rows.value.top,D={};return R[0]==="l"&&l.left.space===!0&&(D[r.lang.rtl===!0?"right":"left"]=`${l.left.size}px`),R[2]==="r"&&l.right.space===!0&&(D[r.lang.rtl===!0?"left":"right"]=`${l.right.size}px`),D});function V(R,D){l.update("header",R,D)}function Q(R,D){R.value!==D&&(R.value=D)}function Y({height:R}){Q(u,R),V("size",R)}function B(R){m.value===!0&&Q(y,!0),a("focusin",R)}me(()=>e.modelValue,R=>{V("space",R),Q(y,!0),l.animate()}),me(v,R=>{V("offset",R)}),me(()=>e.reveal,R=>{R===!1&&Q(y,e.modelValue)}),me(y,R=>{l.animate(),a("reveal",R)}),me(l.scroll,R=>{e.reveal===!0&&Q(y,R.direction==="up"||R.position<=e.revealOffset||R.position-R.inflectionPoint<100)});const ve={};return l.instances.header=ve,e.modelValue===!0&&V("size",u.value),V("space",e.modelValue),V("offset",v.value),zn(()=>{l.instances.header===ve&&(l.instances.header=void 0,V("size",0),V("offset",0),V("space",!1))}),()=>{const R=wa(t.default,[]);return e.elevated===!0&&R.push(p("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),R.push(p(na,{debounce:0,onResize:Y})),p("header",{class:_.value,style:N.value,onFocusin:B},R)}}});const El=mn({name:"NavBar",props:{title:String,back:Function,showBack:{type:Boolean,default:!0},home:Boolean},setup(e){const t=Ma();return{goBack:()=>{if(e.back)return e.back();window.history.state.back?t.back():t.push({path:"/"})}}}});function xl(e,t,a,r,l,u){return Te(),xe(Cl,{elevated:""},{default:U(()=>[q(Ka,null,{default:U(()=>[e.showBack?(Te(),xe(re,{key:0,flat:"",dense:"",round:"",icon:"arrow_back_ios",onClick:e.goBack},null,8,["onClick"])):Xt("",!0),q(za,null,{default:U(()=>[Ft(e.$slots,"default",{},()=>[jn(Et(e.title),1)])]),_:3}),Ft(e.$slots,"btn"),e.$slots.menu?(Te(),xe(Za,{key:1,flat:"",dense:"","dropdown-icon":"menu"},{default:U(()=>[Ft(e.$slots,"menu")]),_:3})):Xt("",!0),e.home?(Te(),xe(re,{key:2,flat:"",dense:"",round:"",icon:"radio_button_checked",to:"/"})):Xt("",!0)]),_:3})]),_:3})}var Vn=Qt(El,[["render",xl]]);const Il={class:"q-pa-md",style:{"min-width":"80vw"}},Ol={class:"text-subtitle1 q-mb-sm"},Ll={class:"flex justify-end q-gutter-x-md"},Rl={__name:"DeleteConfirmBtn",props:{loading:{type:Boolean,default:!1},content:{type:String,default:""}},emits:["click"],setup(e,{emit:t}){const a=t;return(r,l)=>(Te(),xe(re,{flat:"",round:"",icon:"delete",loading:e.loading},{default:U(()=>[q(ta,null,{default:U(()=>[de("div",Il,[de("div",Ol,"\u786E\u5B9A\u5220\u9664\uFF1A"+Et(e.content)+"\uFF1F",1),de("div",Ll,[Be(q(re,{label:"\u53D6\u6D88"},null,512),[[ut]]),Be(q(re,{color:"primary",label:"\u786E\u5B9A",onClick:l[0]||(l[0]=u=>a("click"))},null,512),[[ut]])])])]),_:1})]),_:1},8,["loading"]))}};var Nl=_t({name:"QRouteTab",props:{...Aa,...ja},emits:Wa,setup(e,{slots:t,emit:a}){const r=Da({useDisableForRouterLinkProps:!1}),{renderTab:l,$tabs:u}=Qa(e,t,a,{exact:S(()=>e.exact),...r});return me(()=>`${e.name} | ${e.exact} | ${(r.resolvedLink.value||{}).href}`,()=>{u.verifyRouteModel()}),()=>l(r.linkTag.value,r.linkAttrs.value)}}),Vl=_t({name:"QFooter",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:t,emit:a}){const{proxy:{$q:r}}=xt(),l=Bn(Kn,Dt);if(l===Dt)return console.error("QFooter needs to be child of QLayout"),Dt;const u=X(parseInt(e.heightHint,10)),y=X(!0),s=X(Ca.value===!0||l.isContainer.value===!0?0:window.innerHeight),v=S(()=>e.reveal===!0||l.view.value.indexOf("F")>-1||r.platform.is.ios&&l.isContainer.value===!0),w=S(()=>l.isContainer.value===!0?l.containerHeight.value:s.value),m=S(()=>{if(e.modelValue!==!0)return 0;if(v.value===!0)return y.value===!0?u.value:0;const C=l.scroll.value.position+w.value+u.value-l.height.value;return C>0?C:0}),_=S(()=>e.modelValue!==!0||v.value===!0&&y.value!==!0),N=S(()=>e.modelValue===!0&&_.value===!0&&e.reveal===!0),V=S(()=>"q-footer q-layout__section--marginal "+(v.value===!0?"fixed":"absolute")+"-bottom"+(e.bordered===!0?" q-footer--bordered":"")+(_.value===!0?" q-footer--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus"+(v.value!==!0?" hidden":""):"")),Q=S(()=>{const C=l.rows.value.bottom,_e={};return C[0]==="l"&&l.left.space===!0&&(_e[r.lang.rtl===!0?"right":"left"]=`${l.left.size}px`),C[2]==="r"&&l.right.space===!0&&(_e[r.lang.rtl===!0?"left":"right"]=`${l.right.size}px`),_e});function Y(C,_e){l.update("footer",C,_e)}function B(C,_e){C.value!==_e&&(C.value=_e)}function ve({height:C}){B(u,C),Y("size",C)}function R(){if(e.reveal!==!0)return;const{direction:C,position:_e,inflectionPoint:Ie}=l.scroll.value;B(y,C==="up"||_e-Ie<100||l.height.value-w.value-_e-u.value<300)}function D(C){N.value===!0&&B(y,!0),a("focusin",C)}me(()=>e.modelValue,C=>{Y("space",C),B(y,!0),l.animate()}),me(m,C=>{Y("offset",C)}),me(()=>e.reveal,C=>{C===!1&&B(y,e.modelValue)}),me(y,C=>{l.animate(),a("reveal",C)}),me([u,l.scroll,l.height],R),me(()=>r.screen.height,C=>{l.isContainer.value!==!0&&B(s,C)});const g={};return l.instances.footer=g,e.modelValue===!0&&Y("size",u.value),Y("space",e.modelValue),Y("offset",m.value),zn(()=>{l.instances.footer===g&&(l.instances.footer=void 0,Y("size",0),Y("offset",0),Y("space",!1))}),()=>{const C=Ea(t.default,[p(na,{debounce:0,onResize:ve})]);return e.elevated===!0&&C.push(p("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),p("footer",{class:V.value,style:Q.value,onFocusin:D},C)}}});const Hl={__name:"MainWrapperLayout",setup(e){const t=xa(),a=al(),r=X(t.path||Jt[0].path),l=S(()=>a.scrollerOffset),u=a.storeScrollerOffset;return Ia(()=>{r.value=t.path||Jt[0].path}),(y,s)=>(Te(),xe(tl,{view:"lHh Lpr lFf"},{default:U(()=>[q(Vl,{bordered:"",class:"bg-grey-1"},{default:U(()=>[q(Ga,{modelValue:r.value,"onUpdate:modelValue":s[0]||(s[0]=v=>r.value=v),"narrow-indicator":"",align:"justify","active-class":"text-primary","content-class":"text-grey-9"},{default:U(()=>[(Te(!0),zt(hn,null,vn(Tn(Jt),v=>{var w,m;return Te(),xe(Nl,{key:v.name,name:v.path,icon:(w=v==null?void 0:v.meta)==null?void 0:w.icon,label:(m=v==null?void 0:v.meta)==null?void 0:m.title,to:v.path},null,8,["name","icon","label","to"])}),128))]),_:1},8,["modelValue"])]),_:1}),q(el,null,{default:U(()=>[Ft(y.$slots,"default",{},void 0,!0)]),_:3}),Be((Te(),xe(nl,{"scroll-offset":100,offset:l.value,class:"zindex"},{default:U(()=>[q(re,{fab:"",icon:"keyboard_arrow_up",color:"accent"})]),_:1},8,["offset"])),[[aa,Tn(u),void 0,{prevent:!0,mouse:!0}]])]),_:3}))}};var ql=Qt(Hl,[["__scopeId","data-v-761eb881"]]);function $l(){const e=new Map;return{getCache:function(t,a){return e[t]===void 0?e[t]=a:e[t]},getCacheWithFn:function(t,a){return e[t]===void 0?e[t]=a():e[t]}}}const mt=[-61,9,38,199,426,686,756,818,1111,1181,1210,1635,2060,2097,2192,2262,2324,2394,2456,3178];function Yl(e,t,a){return Object.prototype.toString.call(e)==="[object Date]"&&(a=e.getDate(),t=e.getMonth()+1,e=e.getFullYear()),Bl(_n(e,t,a))}function Hn(e,t,a){return fa(Ul(e,t,a))}function Pl(e){return Fl(e)===0}function Bt(e,t){return t<=6?31:t<=11||Pl(e)?30:29}function Fl(e){const t=mt.length;let a=mt[0],r,l,u,y,s;if(e<a||e>=mt[t-1])throw new Error("Invalid Jalaali year "+e);for(s=1;s<t&&(r=mt[s],l=r-a,!(e<r));s+=1)a=r;return y=e-a,l-y<6&&(y=y-l+fe(l+4,33)*33),u=Ue(Ue(y+1,33)-1,4),u===-1&&(u=4),u}function da(e,t){const a=mt.length,r=e+621;let l=-14,u=mt[0],y,s,v,w,m;if(e<u||e>=mt[a-1])throw new Error("Invalid Jalaali year "+e);for(m=1;m<a&&(y=mt[m],s=y-u,!(e<y));m+=1)l=l+fe(s,33)*8+fe(Ue(s,33),4),u=y;w=e-u,l=l+fe(w,33)*8+fe(Ue(w,33)+3,4),Ue(s,33)===4&&s-w===4&&(l+=1);const _=fe(r,4)-fe((fe(r,100)+1)*3,4)-150,N=20+l-_;return t||(s-w<6&&(w=w-s+fe(s+4,33)*33),v=Ue(Ue(w+1,33)-1,4),v===-1&&(v=4)),{leap:v,gy:r,march:N}}function Ul(e,t,a){const r=da(e,!0);return _n(r.gy,3,r.march)+(t-1)*31-fe(t,7)*(t-7)+a-1}function Bl(e){const t=fa(e).gy;let a=t-621,r,l,u;const y=da(a,!1),s=_n(t,3,y.march);if(u=e-s,u>=0){if(u<=185)return l=1+fe(u,31),r=Ue(u,31)+1,{jy:a,jm:l,jd:r};u-=186}else a-=1,u+=179,y.leap===1&&(u+=1);return l=7+fe(u,30),r=Ue(u,30)+1,{jy:a,jm:l,jd:r}}function _n(e,t,a){let r=fe((e+fe(t-8,6)+100100)*1461,4)+fe(153*Ue(t+9,12)+2,5)+a-34840408;return r=r-fe(fe(e+100100+fe(t-8,6),100)*3,4)+752,r}function fa(e){let t=4*e+139361631;t=t+fe(fe(4*e+183187720,146097)*3,4)*4-3908;const a=fe(Ue(t,1461),4)*5+308,r=fe(Ue(a,153),5)+1,l=Ue(fe(a,153),12)+1;return{gy:fe(t,1461)-100100+fe(8-l,6),gm:l,gd:r}}function fe(e,t){return~~(e/t)}function Ue(e,t){return e-~~(e/t)*t}function G(e,t=2,a="0"){if(e==null)return e;const r=""+e;return r.length>=t?r:new Array(t-r.length+1).join(a)+r}const zl=["gregorian","persian"],ma={modelValue:{required:!0},mask:{type:String},locale:Object,calendar:{type:String,validator:e=>zl.includes(e),default:"gregorian"},landscape:Boolean,color:String,textColor:String,square:Boolean,flat:Boolean,bordered:Boolean,readonly:Boolean,disable:Boolean},va=["update:modelValue"];function rt(e){return e.year+"/"+G(e.month)+"/"+G(e.day)}function ha(e,t){const a=S(()=>e.disable!==!0&&e.readonly!==!0),r=S(()=>a.value===!0?0:-1),l=S(()=>{const s=[];return e.color!==void 0&&s.push(`bg-${e.color}`),e.textColor!==void 0&&s.push(`text-${e.textColor}`),s.join(" ")});function u(){return e.locale!==void 0?{...t.lang.date,...e.locale}:t.lang.date}function y(s){const v=new Date,w=s===!0?null:0;if(e.calendar==="persian"){const m=Yl(v);return{year:m.jy,month:m.jm,day:m.jd}}return{year:v.getFullYear(),month:v.getMonth()+1,day:v.getDate(),hour:w,minute:w,second:w,millisecond:w}}return{editable:a,tabindex:r,headerClass:l,getLocale:u,getCurrentDate:y}}const ga=864e5,Kl=36e5,dn=6e4,ya="YYYY-MM-DDTHH:mm:ss.SSSZ",jl=/\[((?:[^\]\\]|\\]|\\)*)\]|d{1,4}|M{1,4}|m{1,2}|w{1,2}|Qo|Do|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]/g,Wl=/(\[[^\]]*\])|d{1,4}|M{1,4}|m{1,2}|w{1,2}|Qo|Do|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]|([.*+:?^,\s${}()|\\]+)/g,on={};function Ql(e,t){const a="("+t.days.join("|")+")",r=e+a;if(on[r]!==void 0)return on[r];const l="("+t.daysShort.join("|")+")",u="("+t.months.join("|")+")",y="("+t.monthsShort.join("|")+")",s={};let v=0;const w=e.replace(Wl,_=>{switch(v++,_){case"YY":return s.YY=v,"(-?\\d{1,2})";case"YYYY":return s.YYYY=v,"(-?\\d{1,4})";case"M":return s.M=v,"(\\d{1,2})";case"MM":return s.M=v,"(\\d{2})";case"MMM":return s.MMM=v,y;case"MMMM":return s.MMMM=v,u;case"D":return s.D=v,"(\\d{1,2})";case"Do":return s.D=v++,"(\\d{1,2}(st|nd|rd|th))";case"DD":return s.D=v,"(\\d{2})";case"H":return s.H=v,"(\\d{1,2})";case"HH":return s.H=v,"(\\d{2})";case"h":return s.h=v,"(\\d{1,2})";case"hh":return s.h=v,"(\\d{2})";case"m":return s.m=v,"(\\d{1,2})";case"mm":return s.m=v,"(\\d{2})";case"s":return s.s=v,"(\\d{1,2})";case"ss":return s.s=v,"(\\d{2})";case"S":return s.S=v,"(\\d{1})";case"SS":return s.S=v,"(\\d{2})";case"SSS":return s.S=v,"(\\d{3})";case"A":return s.A=v,"(AM|PM)";case"a":return s.a=v,"(am|pm)";case"aa":return s.aa=v,"(a\\.m\\.|p\\.m\\.)";case"ddd":return l;case"dddd":return a;case"Q":case"d":case"E":return"(\\d{1})";case"Qo":return"(1st|2nd|3rd|4th)";case"DDD":case"DDDD":return"(\\d{1,3})";case"w":return"(\\d{1,2})";case"ww":return"(\\d{2})";case"Z":return s.Z=v,"(Z|[+-]\\d{2}:\\d{2})";case"ZZ":return s.ZZ=v,"(Z|[+-]\\d{2}\\d{2})";case"X":return s.X=v,"(-?\\d+)";case"x":return s.x=v,"(-?\\d{4,})";default:return v--,_[0]==="["&&(_=_.substring(1,_.length-1)),_.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}}),m={map:s,regex:new RegExp("^"+w)};return on[r]=m,m}function pa(e,t){return e!==void 0?e:t!==void 0?t.date:Oa.date}function qn(e,t=""){const a=e>0?"-":"+",r=Math.abs(e),l=Math.floor(r/60),u=r%60;return a+G(l)+t+G(u)}function Ht(e,t,a,r,l){const u={year:null,month:null,day:null,hour:null,minute:null,second:null,millisecond:null,timezoneOffset:null,dateHash:null,timeHash:null};if(l!==void 0&&Object.assign(u,l),e==null||e===""||typeof e!="string")return u;t===void 0&&(t=ya);const y=pa(a,Wn.props),s=y.months,v=y.monthsShort,{regex:w,map:m}=Ql(t,y),_=e.match(w);if(_===null)return u;let N="";if(m.X!==void 0||m.x!==void 0){const V=parseInt(_[m.X!==void 0?m.X:m.x],10);if(isNaN(V)===!0||V<0)return u;const Q=new Date(V*(m.X!==void 0?1e3:1));u.year=Q.getFullYear(),u.month=Q.getMonth()+1,u.day=Q.getDate(),u.hour=Q.getHours(),u.minute=Q.getMinutes(),u.second=Q.getSeconds(),u.millisecond=Q.getMilliseconds()}else{if(m.YYYY!==void 0)u.year=parseInt(_[m.YYYY],10);else if(m.YY!==void 0){const V=parseInt(_[m.YY],10);u.year=V<0?V:2e3+V}if(m.M!==void 0){if(u.month=parseInt(_[m.M],10),u.month<1||u.month>12)return u}else m.MMM!==void 0?u.month=v.indexOf(_[m.MMM])+1:m.MMMM!==void 0&&(u.month=s.indexOf(_[m.MMMM])+1);if(m.D!==void 0){if(u.day=parseInt(_[m.D],10),u.year===null||u.month===null||u.day<1)return u;const V=r!=="persian"?new Date(u.year,u.month,0).getDate():Bt(u.year,u.month);if(u.day>V)return u}m.H!==void 0?u.hour=parseInt(_[m.H],10)%24:m.h!==void 0&&(u.hour=parseInt(_[m.h],10)%12,(m.A&&_[m.A]==="PM"||m.a&&_[m.a]==="pm"||m.aa&&_[m.aa]==="p.m.")&&(u.hour+=12),u.hour=u.hour%24),m.m!==void 0&&(u.minute=parseInt(_[m.m],10)%60),m.s!==void 0&&(u.second=parseInt(_[m.s],10)%60),m.S!==void 0&&(u.millisecond=parseInt(_[m.S],10)*10**(3-_[m.S].length)),(m.Z!==void 0||m.ZZ!==void 0)&&(N=m.Z!==void 0?_[m.Z].replace(":",""):_[m.ZZ],u.timezoneOffset=(N[0]==="+"?-1:1)*(60*N.slice(1,3)+1*N.slice(3,5)))}return u.dateHash=G(u.year,6)+"/"+G(u.month)+"/"+G(u.day),u.timeHash=G(u.hour)+":"+G(u.minute)+":"+G(u.second)+N,u}function $n(e){const t=new Date(e.getFullYear(),e.getMonth(),e.getDate());t.setDate(t.getDate()-(t.getDay()+6)%7+3);const a=new Date(t.getFullYear(),0,4);a.setDate(a.getDate()-(a.getDay()+6)%7+3);const r=t.getTimezoneOffset()-a.getTimezoneOffset();t.setHours(t.getHours()-r);const l=(t-a)/(ga*7);return 1+Math.floor(l)}function it(e,t,a){const r=new Date(e),l=`set${a===!0?"UTC":""}`;switch(t){case"year":case"years":r[`${l}Month`](0);case"month":case"months":r[`${l}Date`](1);case"day":case"days":case"date":r[`${l}Hours`](0);case"hour":case"hours":r[`${l}Minutes`](0);case"minute":case"minutes":r[`${l}Seconds`](0);case"second":case"seconds":r[`${l}Milliseconds`](0)}return r}function Pt(e,t,a){return(e.getTime()-e.getTimezoneOffset()*dn-(t.getTime()-t.getTimezoneOffset()*dn))/a}function _a(e,t,a="days"){const r=new Date(e),l=new Date(t);switch(a){case"years":case"year":return r.getFullYear()-l.getFullYear();case"months":case"month":return(r.getFullYear()-l.getFullYear())*12+r.getMonth()-l.getMonth();case"days":case"day":case"date":return Pt(it(r,"day"),it(l,"day"),ga);case"hours":case"hour":return Pt(it(r,"hour"),it(l,"hour"),Kl);case"minutes":case"minute":return Pt(it(r,"minute"),it(l,"minute"),dn);case"seconds":case"second":return Pt(it(r,"second"),it(l,"second"),1e3)}}function Yn(e){return _a(e,it(e,"year"),"days")+1}function Pn(e){if(e>=11&&e<=13)return`${e}th`;switch(e%10){case 1:return`${e}st`;case 2:return`${e}nd`;case 3:return`${e}rd`}return`${e}th`}const Fn={YY(e,t,a){const r=this.YYYY(e,t,a)%100;return r>=0?G(r):"-"+G(Math.abs(r))},YYYY(e,t,a){return a!=null?a:e.getFullYear()},M(e){return e.getMonth()+1},MM(e){return G(e.getMonth()+1)},MMM(e,t){return t.monthsShort[e.getMonth()]},MMMM(e,t){return t.months[e.getMonth()]},Q(e){return Math.ceil((e.getMonth()+1)/3)},Qo(e){return Pn(this.Q(e))},D(e){return e.getDate()},Do(e){return Pn(e.getDate())},DD(e){return G(e.getDate())},DDD(e){return Yn(e)},DDDD(e){return G(Yn(e),3)},d(e){return e.getDay()},dd(e,t){return this.dddd(e,t).slice(0,2)},ddd(e,t){return t.daysShort[e.getDay()]},dddd(e,t){return t.days[e.getDay()]},E(e){return e.getDay()||7},w(e){return $n(e)},ww(e){return G($n(e))},H(e){return e.getHours()},HH(e){return G(e.getHours())},h(e){const t=e.getHours();return t===0?12:t>12?t%12:t},hh(e){return G(this.h(e))},m(e){return e.getMinutes()},mm(e){return G(e.getMinutes())},s(e){return e.getSeconds()},ss(e){return G(e.getSeconds())},S(e){return Math.floor(e.getMilliseconds()/100)},SS(e){return G(Math.floor(e.getMilliseconds()/10))},SSS(e){return G(e.getMilliseconds(),3)},A(e){return this.H(e)<12?"AM":"PM"},a(e){return this.H(e)<12?"am":"pm"},aa(e){return this.H(e)<12?"a.m.":"p.m."},Z(e,t,a,r){const l=r==null?e.getTimezoneOffset():r;return qn(l,":")},ZZ(e,t,a,r){const l=r==null?e.getTimezoneOffset():r;return qn(l)},X(e){return Math.floor(e.getTime()/1e3)},x(e){return e.getTime()}};function ba(e,t,a,r,l){if(e!==0&&!e||e===1/0||e===-1/0)return;const u=new Date(e);if(isNaN(u))return;t===void 0&&(t=ya);const y=pa(a,Wn.props);return t.replace(jl,(s,v)=>s in Fn?Fn[s](u,y,r,l):v===void 0?s:v.split("\\]").join("]"))}const pt=20,Gl=["Calendar","Years","Months"],Un=e=>Gl.includes(e),rn=e=>/^-?[\d]+\/[0-1]\d$/.test(e),Mt=" \u2014 ";function ft(e){return e.year+"/"+G(e.month)}var Sa=_t({name:"QDate",props:{...ma,...Qn,...gn,multiple:Boolean,range:Boolean,title:String,subtitle:String,mask:{default:"YYYY/MM/DD"},defaultYearMonth:{type:String,validator:rn},yearsInMonthView:Boolean,events:[Array,Function],eventColor:[String,Function],emitImmediately:Boolean,options:[Array,Function],navigationMinYearMonth:{type:String,validator:rn},navigationMaxYearMonth:{type:String,validator:rn},noUnset:Boolean,firstDayOfWeek:[String,Number],todayBtn:Boolean,minimal:Boolean,defaultView:{type:String,default:"Calendar",validator:Un}},emits:[...va,"rangeStart","rangeEnd","navigation"],setup(e,{slots:t,emit:a}){const{proxy:r}=xt(),{$q:l}=r,u=yn(e,l),{getCache:y}=$l(),{tabindex:s,headerClass:v,getLocale:w,getCurrentDate:m}=ha(e,l);let _;const N=Gn(e),V=Xn(N),Q=X(null),Y=X(nt()),B=X(w()),ve=S(()=>nt()),R=S(()=>w()),D=S(()=>m()),g=X(at(Y.value,B.value)),C=X(e.defaultView),_e=l.lang.rtl===!0?"right":"left",Ie=X(_e.value),ge=X(_e.value),Xe=g.value.year,be=X(Xe-Xe%pt-(Xe<0?pt:0)),se=X(null),Ve=S(()=>{const n=e.landscape===!0?"landscape":"portrait";return`q-date q-date--${n} q-date--${n}-${e.minimal===!0?"minimal":"standard"}`+(u.value===!0?" q-date--dark q-dark":"")+(e.bordered===!0?" q-date--bordered":"")+(e.square===!0?" q-date--square no-border-radius":"")+(e.flat===!0?" q-date--flat no-shadow":"")+(e.disable===!0?" disabled":e.readonly===!0?" q-date--readonly":"")}),ke=S(()=>e.color||"primary"),Oe=S(()=>e.textColor||"white"),we=S(()=>e.emitImmediately===!0&&e.multiple!==!0&&e.range!==!0),He=S(()=>Array.isArray(e.modelValue)===!0?e.modelValue:e.modelValue!==null&&e.modelValue!==void 0?[e.modelValue]:[]),ye=S(()=>He.value.filter(n=>typeof n=="string").map(n=>et(n,Y.value,B.value)).filter(n=>n.dateHash!==null&&n.day!==null&&n.month!==null&&n.year!==null)),Ae=S(()=>{const n=o=>et(o,Y.value,B.value);return He.value.filter(o=>La(o)===!0&&o.from!==void 0&&o.to!==void 0).map(o=>({from:n(o.from),to:n(o.to)})).filter(o=>o.from.dateHash!==null&&o.to.dateHash!==null&&o.from.dateHash<o.to.dateHash)}),ne=S(()=>e.calendar!=="persian"?n=>new Date(n.year,n.month-1,n.day):n=>{const o=Hn(n.year,n.month,n.day);return new Date(o.gy,o.gm-1,o.gd)}),ze=S(()=>e.calendar==="persian"?rt:(n,o,c)=>ba(new Date(n.year,n.month-1,n.day,n.hour,n.minute,n.second,n.millisecond),o===void 0?Y.value:o,c===void 0?B.value:c,n.year,n.timezoneOffset)),J=S(()=>ye.value.length+Ae.value.reduce((n,o)=>n+1+_a(ne.value(o.to),ne.value(o.from)),0)),h=S(()=>{if(e.title!==void 0&&e.title!==null&&e.title.length!==0)return e.title;if(se.value!==null){const c=se.value.init,M=ne.value(c);return B.value.daysShort[M.getDay()]+", "+B.value.monthsShort[c.month-1]+" "+c.day+Mt+"?"}if(J.value===0)return Mt;if(J.value>1)return`${J.value} ${B.value.pluralDay}`;const n=ye.value[0],o=ne.value(n);return isNaN(o.valueOf())===!0?Mt:B.value.headerTitle!==void 0?B.value.headerTitle(o,n):B.value.daysShort[o.getDay()]+", "+B.value.monthsShort[n.month-1]+" "+n.day}),k=S(()=>ye.value.concat(Ae.value.map(o=>o.from)).sort((o,c)=>o.year-c.year||o.month-c.month)[0]),f=S(()=>ye.value.concat(Ae.value.map(o=>o.to)).sort((o,c)=>c.year-o.year||c.month-o.month)[0]),$=S(()=>{if(e.subtitle!==void 0&&e.subtitle!==null&&e.subtitle.length!==0)return e.subtitle;if(J.value===0)return Mt;if(J.value>1){const n=k.value,o=f.value,c=B.value.monthsShort;return c[n.month-1]+(n.year!==o.year?" "+n.year+Mt+c[o.month-1]+" ":n.month!==o.month?Mt+c[o.month-1]:"")+" "+o.year}return ye.value[0].year}),E=S(()=>{const n=[l.iconSet.datetime.arrowLeft,l.iconSet.datetime.arrowRight];return l.lang.rtl===!0?n.reverse():n}),j=S(()=>e.firstDayOfWeek!==void 0?Number(e.firstDayOfWeek):B.value.firstDayOfWeek),ee=S(()=>{const n=B.value.daysShort,o=j.value;return o>0?n.slice(o,7).concat(n.slice(0,o)):n}),Se=S(()=>{const n=g.value;return e.calendar!=="persian"?new Date(n.year,n.month,0).getDate():Bt(n.year,n.month)}),ae=S(()=>typeof e.eventColor=="function"?e.eventColor:()=>e.eventColor),Z=S(()=>{if(e.navigationMinYearMonth===void 0)return null;const n=e.navigationMinYearMonth.split("/");return{year:parseInt(n[0],10),month:parseInt(n[1],10)}}),le=S(()=>{if(e.navigationMaxYearMonth===void 0)return null;const n=e.navigationMaxYearMonth.split("/");return{year:parseInt(n[0],10),month:parseInt(n[1],10)}}),Ke=S(()=>{const n={month:{prev:!0,next:!0},year:{prev:!0,next:!0}};return Z.value!==null&&Z.value.year>=g.value.year&&(n.year.prev=!1,Z.value.year===g.value.year&&Z.value.month>=g.value.month&&(n.month.prev=!1)),le.value!==null&&le.value.year<=g.value.year&&(n.year.next=!1,le.value.year===g.value.year&&le.value.month<=g.value.month&&(n.month.next=!1)),n}),De=S(()=>{const n={};return ye.value.forEach(o=>{const c=ft(o);n[c]===void 0&&(n[c]=[]),n[c].push(o.day)}),n}),qe=S(()=>{const n={};return Ae.value.forEach(o=>{const c=ft(o.from),M=ft(o.to);if(n[c]===void 0&&(n[c]=[]),n[c].push({from:o.from.day,to:c===M?o.to.day:void 0,range:o}),c<M){let A;const{year:z,month:x}=o.from,F=x<12?{year:z,month:x+1}:{year:z+1,month:1};for(;(A=ft(F))<=M;)n[A]===void 0&&(n[A]=[]),n[A].push({from:void 0,to:A===M?o.to.day:void 0,range:o}),F.month++,F.month>12&&(F.year++,F.month=1)}}),n}),Me=S(()=>{if(se.value===null)return;const{init:n,initHash:o,final:c,finalHash:M}=se.value,[A,z]=o<=M?[n,c]:[c,n],x=ft(A),F=ft(z);if(x!==H.value&&F!==H.value)return;const oe={};return x===H.value?(oe.from=A.day,oe.includeFrom=!0):oe.from=1,F===H.value?(oe.to=z.day,oe.includeTo=!0):oe.to=Se.value,oe}),H=S(()=>ft(g.value)),ie=S(()=>{const n={};if(e.options===void 0){for(let c=1;c<=Se.value;c++)n[c]=!0;return n}const o=typeof e.options=="function"?e.options:c=>e.options.includes(c);for(let c=1;c<=Se.value;c++){const M=H.value+"/"+G(c);n[c]=o(M)}return n}),st=S(()=>{const n={};if(e.events===void 0)for(let o=1;o<=Se.value;o++)n[o]=!1;else{const o=typeof e.events=="function"?e.events:c=>e.events.includes(c);for(let c=1;c<=Se.value;c++){const M=H.value+"/"+G(c);n[c]=o(M)===!0&&ae.value(M)}}return n}),je=S(()=>{let n,o;const{year:c,month:M}=g.value;if(e.calendar!=="persian")n=new Date(c,M-1,1),o=new Date(c,M-1,0).getDate();else{const A=Hn(c,M,1);n=new Date(A.gy,A.gm-1,A.gd);let z=M-1,x=c;z===0&&(z=12,x--),o=Bt(x,z)}return{days:n.getDay()-j.value-1,endDay:o}}),$e=S(()=>{const n=[],{days:o,endDay:c}=je.value,M=o<0?o+7:o;if(M<6)for(let x=c-M;x<=c;x++)n.push({i:x,fill:!0});const A=n.length;for(let x=1;x<=Se.value;x++){const F={i:x,event:st.value[x],classes:[]};ie.value[x]===!0&&(F.in=!0,F.flat=!0),n.push(F)}if(De.value[H.value]!==void 0&&De.value[H.value].forEach(x=>{const F=A+x-1;Object.assign(n[F],{selected:!0,unelevated:!0,flat:!1,color:ke.value,textColor:Oe.value})}),qe.value[H.value]!==void 0&&qe.value[H.value].forEach(x=>{if(x.from!==void 0){const F=A+x.from-1,oe=A+(x.to||Se.value)-1;for(let dt=F;dt<=oe;dt++)Object.assign(n[dt],{range:x.range,unelevated:!0,color:ke.value,textColor:Oe.value});Object.assign(n[F],{rangeFrom:!0,flat:!1}),x.to!==void 0&&Object.assign(n[oe],{rangeTo:!0,flat:!1})}else if(x.to!==void 0){const F=A+x.to-1;for(let oe=A;oe<=F;oe++)Object.assign(n[oe],{range:x.range,unelevated:!0,color:ke.value,textColor:Oe.value});Object.assign(n[F],{flat:!1,rangeTo:!0})}else{const F=A+Se.value-1;for(let oe=A;oe<=F;oe++)Object.assign(n[oe],{range:x.range,unelevated:!0,color:ke.value,textColor:Oe.value})}}),Me.value!==void 0){const x=A+Me.value.from-1,F=A+Me.value.to-1;for(let oe=x;oe<=F;oe++)n[oe].color=ke.value,n[oe].editRange=!0;Me.value.includeFrom===!0&&(n[x].editRangeFrom=!0),Me.value.includeTo===!0&&(n[F].editRangeTo=!0)}g.value.year===D.value.year&&g.value.month===D.value.month&&(n[A+D.value.day-1].today=!0);const z=n.length%7;if(z>0){const x=7-z;for(let F=1;F<=x;F++)n.push({i:F,fill:!0})}return n.forEach(x=>{let F="q-date__calendar-item ";x.fill===!0?F+="q-date__calendar-item--fill":(F+=`q-date__calendar-item--${x.in===!0?"in":"out"}`,x.range!==void 0&&(F+=` q-date__range${x.rangeTo===!0?"-to":x.rangeFrom===!0?"-from":""}`),x.editRange===!0&&(F+=` q-date__edit-range${x.editRangeFrom===!0?"-from":""}${x.editRangeTo===!0?"-to":""}`),(x.range!==void 0||x.editRange===!0)&&(F+=` text-${x.color}`)),x.classes=F}),n}),Ye=S(()=>e.disable===!0?{"aria-disabled":"true"}:{});me(()=>e.modelValue,n=>{if(_===n)_=0;else{const o=at(Y.value,B.value);he(o.year,o.month,o)}}),me(C,()=>{Q.value!==null&&r.$el.contains(document.activeElement)===!0&&Q.value.focus()}),me(()=>g.value.year+"|"+g.value.month,()=>{a("navigation",{year:g.value.year,month:g.value.month})}),me(ve,n=>{It(n,B.value,"mask"),Y.value=n}),me(R,n=>{It(Y.value,n,"locale"),B.value=n});function Qe(){const{year:n,month:o,day:c}=D.value,M={...g.value,year:n,month:o,day:c},A=De.value[ft(M)];(A===void 0||A.includes(M.day)===!1)&&gt(M),Je(M.year,M.month)}function vt(n){Un(n)===!0&&(C.value=n)}function ht(n,o){["month","year"].includes(n)&&(n==="month"?b:L)(o===!0?-1:1)}function Je(n,o){C.value="Calendar",he(n,o)}function Ge(n,o){if(e.range===!1||!n){se.value=null;return}const c=Object.assign({...g.value},n),M=o!==void 0?Object.assign({...g.value},o):c;se.value={init:c,initHash:rt(c),final:M,finalHash:rt(M)},Je(c.year,c.month)}function nt(){return e.calendar==="persian"?"YYYY/MM/DD":e.mask}function et(n,o,c){return Ht(n,o,c,e.calendar,{hour:0,minute:0,second:0,millisecond:0})}function at(n,o){const c=Array.isArray(e.modelValue)===!0?e.modelValue:e.modelValue?[e.modelValue]:[];if(c.length===0)return d();const M=c[c.length-1],A=et(M.from!==void 0?M.from:M,n,o);return A.dateHash===null?d():A}function d(){let n,o;if(e.defaultYearMonth!==void 0){const c=e.defaultYearMonth.split("/");n=parseInt(c[0],10),o=parseInt(c[1],10)}else{const c=D.value!==void 0?D.value:m();n=c.year,o=c.month}return{year:n,month:o,day:1,hour:0,minute:0,second:0,millisecond:0,dateHash:n+"/"+G(o)+"/01"}}function b(n){let o=g.value.year,c=Number(g.value.month)+n;c===13?(c=1,o++):c===0&&(c=12,o--),he(o,c),we.value===!0&&Pe("month")}function L(n){const o=Number(g.value.year)+n;he(o,g.value.month),we.value===!0&&Pe("year")}function W(n){he(n,g.value.month),C.value=e.defaultView==="Years"?"Months":"Calendar",we.value===!0&&Pe("year")}function ce(n){he(g.value.year,n),C.value="Calendar",we.value===!0&&Pe("month")}function pe(n,o){const c=De.value[o];(c!==void 0&&c.includes(n.day)===!0?kt:gt)(n)}function P(n){return{year:n.year,month:n.month,day:n.day}}function he(n,o,c){if(Z.value!==null&&n<=Z.value.year&&((o<Z.value.month||n<Z.value.year)&&(o=Z.value.month),n=Z.value.year),le.value!==null&&n>=le.value.year&&((o>le.value.month||n>le.value.year)&&(o=le.value.month),n=le.value.year),c!==void 0){const{hour:A,minute:z,second:x,millisecond:F,timezoneOffset:oe,timeHash:dt}=c;Object.assign(g.value,{hour:A,minute:z,second:x,millisecond:F,timezoneOffset:oe,timeHash:dt})}const M=n+"/"+G(o)+"/01";M!==g.value.dateHash&&(Ie.value=g.value.dateHash<M==(l.lang.rtl!==!0)?"left":"right",n!==g.value.year&&(ge.value=Ie.value),Kt(()=>{be.value=n-n%pt-(n<0?pt:0),Object.assign(g.value,{year:n,month:o,day:1,dateHash:M})}))}function te(n,o,c){const M=n!==null&&n.length===1&&e.multiple===!1?n[0]:n;_=M;const{reason:A,details:z}=Tt(o,c);a("update:modelValue",M,A,z)}function Pe(n){const o=ye.value[0]!==void 0&&ye.value[0].dateHash!==null?{...ye.value[0]}:{...g.value};Kt(()=>{o.year=g.value.year,o.month=g.value.month;const c=e.calendar!=="persian"?new Date(o.year,o.month,0).getDate():Bt(o.year,o.month);o.day=Math.min(Math.max(1,o.day),c);const M=lt(o);_=M;const{details:A}=Tt("",o);a("update:modelValue",M,n,A)})}function Tt(n,o){return o.from!==void 0?{reason:`${n}-range`,details:{...P(o.target),from:P(o.from),to:P(o.to)}}:{reason:`${n}-day`,details:P(o)}}function lt(n,o,c){return n.from!==void 0?{from:ze.value(n.from,o,c),to:ze.value(n.to,o,c)}:ze.value(n,o,c)}function gt(n){let o;if(e.multiple===!0)if(n.from!==void 0){const c=rt(n.from),M=rt(n.to),A=ye.value.filter(x=>x.dateHash<c||x.dateHash>M),z=Ae.value.filter(({from:x,to:F})=>F.dateHash<c||x.dateHash>M);o=A.concat(z).concat(n).map(x=>lt(x))}else{const c=He.value.slice();c.push(lt(n)),o=c}else o=lt(n);te(o,"add",n)}function kt(n){if(e.noUnset===!0)return;let o=null;if(e.multiple===!0&&Array.isArray(e.modelValue)===!0){const c=lt(n);n.from!==void 0?o=e.modelValue.filter(M=>M.from!==void 0?M.from!==c.from&&M.to!==c.to:!0):o=e.modelValue.filter(M=>M!==c),o.length===0&&(o=null)}te(o,"remove",n)}function It(n,o,c){const M=ye.value.concat(Ae.value).map(A=>lt(A,n,o)).filter(A=>A.from!==void 0?A.from.dateHash!==null&&A.to.dateHash!==null:A.dateHash!==null);a("update:modelValue",(e.multiple===!0?M:M[0])||null,c)}function Gt(){if(e.minimal!==!0)return p("div",{class:"q-date__header "+v.value},[p("div",{class:"relative-position"},[p(At,{name:"q-transition--fade"},()=>p("div",{key:"h-yr-"+$.value,class:"q-date__header-subtitle q-date__header-link "+(C.value==="Years"?"q-date__header-link--active":"cursor-pointer"),tabindex:s.value,...y("vY",{onClick(){C.value="Years"},onKeyup(n){n.keyCode===13&&(C.value="Years")}})},[$.value]))]),p("div",{class:"q-date__header-title relative-position flex no-wrap"},[p("div",{class:"relative-position col"},[p(At,{name:"q-transition--fade"},()=>p("div",{key:"h-sub"+h.value,class:"q-date__header-title-label q-date__header-link "+(C.value==="Calendar"?"q-date__header-link--active":"cursor-pointer"),tabindex:s.value,...y("vC",{onClick(){C.value="Calendar"},onKeyup(n){n.keyCode===13&&(C.value="Calendar")}})},[h.value]))]),e.todayBtn===!0?p(re,{class:"q-date__header-today self-start",icon:l.iconSet.datetime.today,flat:!0,size:"sm",round:!0,tabindex:s.value,onClick:Qe}):null])])}function ct({label:n,type:o,key:c,dir:M,goTo:A,boundaries:z,cls:x}){return[p("div",{class:"row items-center q-date__arrow"},[p(re,{round:!0,dense:!0,size:"sm",flat:!0,icon:E.value[0],tabindex:s.value,disable:z.prev===!1,...y("go-#"+o,{onClick(){A(-1)}})})]),p("div",{class:"relative-position overflow-hidden flex flex-center"+x},[p(At,{name:"q-transition--jump-"+M},()=>p("div",{key:c},[p(re,{flat:!0,dense:!0,noCaps:!0,label:n,tabindex:s.value,...y("view#"+o,{onClick:()=>{C.value=o}})})]))]),p("div",{class:"row items-center q-date__arrow"},[p(re,{round:!0,dense:!0,size:"sm",flat:!0,icon:E.value[1],tabindex:s.value,disable:z.next===!1,...y("go+#"+o,{onClick(){A(1)}})})])]}const Ot={Calendar:()=>[p("div",{key:"calendar-view",class:"q-date__view q-date__calendar"},[p("div",{class:"q-date__navigation row items-center no-wrap"},ct({label:B.value.months[g.value.month-1],type:"Months",key:g.value.month,dir:Ie.value,goTo:b,boundaries:Ke.value.month,cls:" col"}).concat(ct({label:g.value.year,type:"Years",key:g.value.year,dir:ge.value,goTo:L,boundaries:Ke.value.year,cls:""}))),p("div",{class:"q-date__calendar-weekdays row items-center no-wrap"},ee.value.map(n=>p("div",{class:"q-date__calendar-item"},[p("div",n)]))),p("div",{class:"q-date__calendar-days-container relative-position overflow-hidden"},[p(At,{name:"q-transition--slide-"+Ie.value},()=>p("div",{key:H.value,class:"q-date__calendar-days fit"},$e.value.map(n=>p("div",{class:n.classes},[n.in===!0?p(re,{class:n.today===!0?"q-date__today":"",dense:!0,flat:n.flat,unelevated:n.unelevated,color:n.color,textColor:n.textColor,label:n.i,tabindex:s.value,...y("day#"+n.i,{onClick:()=>{Zt(n.i)},onMouseover:()=>{ot(n.i)}})},n.event!==!1?()=>p("div",{class:"q-date__event bg-"+n.event}):null):p("div",""+n.i)]))))])])],Months(){const n=g.value.year===D.value.year,o=M=>Z.value!==null&&g.value.year===Z.value.year&&Z.value.month>M||le.value!==null&&g.value.year===le.value.year&&le.value.month<M,c=B.value.monthsShort.map((M,A)=>{const z=g.value.month===A+1;return p("div",{class:"q-date__months-item flex flex-center"},[p(re,{class:n===!0&&D.value.month===A+1?"q-date__today":null,flat:z!==!0,label:M,unelevated:z,color:z===!0?ke.value:null,textColor:z===!0?Oe.value:null,tabindex:s.value,disable:o(A+1),...y("month#"+A,{onClick:()=>{ce(A+1)}})})])});return e.yearsInMonthView===!0&&c.unshift(p("div",{class:"row no-wrap full-width"},[ct({label:g.value.year,type:"Years",key:g.value.year,dir:ge.value,goTo:L,boundaries:Ke.value.year,cls:" col"})])),p("div",{key:"months-view",class:"q-date__view q-date__months flex flex-center"},c)},Years(){const n=be.value,o=n+pt,c=[],M=A=>Z.value!==null&&Z.value.year>A||le.value!==null&&le.value.year<A;for(let A=n;A<=o;A++){const z=g.value.year===A;c.push(p("div",{class:"q-date__years-item flex flex-center"},[p(re,{key:"yr"+A,class:D.value.year===A?"q-date__today":null,flat:!z,label:A,dense:!0,unelevated:z,color:z===!0?ke.value:null,textColor:z===!0?Oe.value:null,tabindex:s.value,disable:M(A),...y("yr#"+A,{onClick:()=>{W(A)}})})]))}return p("div",{class:"q-date__view q-date__years flex flex-center"},[p("div",{class:"col-auto"},[p(re,{round:!0,dense:!0,flat:!0,icon:E.value[0],tabindex:s.value,disable:M(n),...y("y-",{onClick:()=>{be.value-=pt}})})]),p("div",{class:"q-date__years-content col self-stretch row items-center"},c),p("div",{class:"col-auto"},[p(re,{round:!0,dense:!0,flat:!0,icon:E.value[1],tabindex:s.value,disable:M(o),...y("y+",{onClick:()=>{be.value+=pt}})})])])}};function Zt(n){const o={...g.value,day:n};if(e.range===!1){pe(o,H.value);return}if(se.value===null){const c=$e.value.find(A=>A.fill!==!0&&A.i===n);if(e.noUnset!==!0&&c.range!==void 0){kt({target:o,from:c.range.from,to:c.range.to});return}if(c.selected===!0){kt(o);return}const M=rt(o);se.value={init:o,initHash:M,final:o,finalHash:M},a("rangeStart",P(o))}else{const c=se.value.initHash,M=rt(o),A=c<=M?{from:se.value.init,to:o}:{from:o,to:se.value.init};se.value=null,gt(c===M?o:{target:o,...A}),a("rangeEnd",{from:P(A.from),to:P(A.to)})}}function ot(n){if(se.value!==null){const o={...g.value,day:n};Object.assign(se.value,{final:o,finalHash:rt(o)})}}return Object.assign(r,{setToday:Qe,setView:vt,offsetCalendar:ht,setCalendarTo:Je,setEditingRange:Ge}),()=>{const n=[p("div",{class:"q-date__content col relative-position"},[p(At,{name:"q-transition--fade"},Ot[C.value])])],o=Zn(t.default);return o!==void 0&&n.push(p("div",{class:"q-date__actions"},o)),e.name!==void 0&&e.disable!==!0&&V(n,"push"),p("div",{class:Ve.value,...Ye.value},[Gt(),p("div",{ref:Q,class:"q-date__main col column",tabindex:-1},n)])}}}),fn=_t({name:"QPopupProxy",props:{...Xa,breakpoint:{type:[String,Number],default:450}},emits:["show","hide"],setup(e,{slots:t,emit:a,attrs:r}){const{proxy:l}=xt(),{$q:u}=l,y=X(!1),s=X(null),v=S(()=>parseInt(e.breakpoint,10)),{canShow:w}=Ja({showing:y});function m(){return u.screen.width<v.value||u.screen.height<v.value?"dialog":"menu"}const _=X(m()),N=S(()=>_.value==="menu"?{maxHeight:"99vh"}:{});me(()=>m(),Y=>{y.value!==!0&&(_.value=Y)});function V(Y){y.value=!0,a("show",Y)}function Q(Y){y.value=!1,_.value=m(),a("hide",Y)}return Object.assign(l,{show(Y){w(Y)===!0&&s.value.show(Y)},hide(Y){s.value.hide(Y)},toggle(Y){s.value.toggle(Y)}}),un(l,"currentComponent",()=>({type:_.value,ref:s.value})),()=>{const Y={ref:s,...N.value,...r,onShow:V,onHide:Q};let B;return _.value==="dialog"?B=pn:(B=ta,Object.assign(Y,{target:e.target,contextMenu:e.contextMenu,noParentEvent:!0,separateClosePopup:!0})),p(B,Y,t.default)}}});const Zl={class:"row items-center justify-end q-gutter-x-sm"},Xl={__name:"InputDatePopup",props:{modelValue:{type:Number,default:0}},emits:["update:modelValue"],setup(e,{emit:t}){const a=e,r=t,l=w=>{r("update:modelValue",w.startOf("D").valueOf())},u=S({get(){const w=a.modelValue;return w&&tt(w).format("YYYY-MM-DD")||""},set(w){!w||l(tt(w,"YYYY-MM-DD"))}}),y=()=>{l(tt().subtract(1,"M").endOf("M"))},s=()=>{l(tt().endOf("M"))},v=()=>{l(tt())};return(w,m)=>(Te(),xe(St,bt({"model-value":u.value,readonly:""},w.$attrs,{onClick:m[2]||(m[2]=_=>w.$refs.dateRef.show())}),{append:U(()=>[q(jt,{name:"event",class:"cursor-pointer"},{default:U(()=>[q(fn,{ref:"dateRef",cover:""},{default:U(()=>[q(Sa,{modelValue:u.value,"onUpdate:modelValue":[m[0]||(m[0]=_=>u.value=_),m[1]||(m[1]=()=>w.$refs.dateRef.hide())],mask:"YYYY-MM-DD"},{default:U(()=>[de("div",Zl,[Be(q(re,{label:"\u4E0A\u6708\u672B",flat:"",dense:"",onClick:y},null,512),[[ut]]),Be(q(re,{label:"\u672C\u6708\u672B",flat:"",dense:"",onClick:s},null,512),[[ut]]),Be(q(re,{label:"\u6B64\u523B",flat:"",dense:"",onClick:v},null,512),[[ut]])])]),_:1},8,["modelValue"])]),_:1},512)]),_:1})]),_:1},16,["model-value"]))}};function Jl(e,t){if(e.hour!==null){if(e.minute===null)return"minute";if(t===!0&&e.second===null)return"second"}return"hour"}function eo(){const e=new Date;return{hour:e.getHours(),minute:e.getMinutes(),second:e.getSeconds(),millisecond:e.getMilliseconds()}}var to=_t({name:"QTime",props:{...gn,...Qn,...ma,mask:{default:null},format24h:{type:Boolean,default:null},defaultDate:{type:String,validator:e=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(e)},options:Function,hourOptions:Array,minuteOptions:Array,secondOptions:Array,withSeconds:Boolean,nowBtn:Boolean},emits:va,setup(e,{slots:t,emit:a}){const r=xt(),{$q:l}=r.proxy,u=yn(e,l),{tabindex:y,headerClass:s,getLocale:v,getCurrentDate:w}=ha(e,l),m=Gn(e),_=Xn(m);let N,V;const Q=X(null),Y=S(()=>$()),B=S(()=>v()),ve=S(()=>E()),R=Ht(e.modelValue,Y.value,B.value,e.calendar,ve.value),D=X(Jl(R)),g=X(R),C=X(R.hour===null||R.hour<12),_e=S(()=>`q-time q-time--${e.landscape===!0?"landscape":"portrait"}`+(u.value===!0?" q-time--dark q-dark":"")+(e.disable===!0?" disabled":e.readonly===!0?" q-time--readonly":"")+(e.bordered===!0?" q-time--bordered":"")+(e.square===!0?" q-time--square no-border-radius":"")+(e.flat===!0?" q-time--flat no-shadow":"")),Ie=S(()=>{const d=g.value;return{hour:d.hour===null?"--":ge.value===!0?G(d.hour):String(C.value===!0?d.hour===0?12:d.hour:d.hour>12?d.hour-12:d.hour),minute:d.minute===null?"--":G(d.minute),second:d.second===null?"--":G(d.second)}}),ge=S(()=>e.format24h!==null?e.format24h:l.lang.date.format24h),Xe=S(()=>{const d=D.value==="hour",b=d===!0?12:60,L=g.value[D.value];let ce=`rotate(${Math.round(L*(360/b))-180}deg) translateX(-50%)`;return d===!0&&ge.value===!0&&g.value.hour>=12&&(ce+=" scale(.7)"),{transform:ce}}),be=S(()=>g.value.hour!==null),se=S(()=>be.value===!0&&g.value.minute!==null),Ve=S(()=>e.hourOptions!==void 0?d=>e.hourOptions.includes(d):e.options!==void 0?d=>e.options(d,null,null):null),ke=S(()=>e.minuteOptions!==void 0?d=>e.minuteOptions.includes(d):e.options!==void 0?d=>e.options(g.value.hour,d,null):null),Oe=S(()=>e.secondOptions!==void 0?d=>e.secondOptions.includes(d):e.options!==void 0?d=>e.options(g.value.hour,g.value.minute,d):null),we=S(()=>{if(Ve.value===null)return null;const d=h(0,11,Ve.value),b=h(12,11,Ve.value);return{am:d,pm:b,values:d.values.concat(b.values)}}),He=S(()=>ke.value!==null?h(0,59,ke.value):null),ye=S(()=>Oe.value!==null?h(0,59,Oe.value):null),Ae=S(()=>{switch(D.value){case"hour":return we.value;case"minute":return He.value;case"second":return ye.value}}),ne=S(()=>{let d,b,L=0,W=1;const ce=Ae.value!==null?Ae.value.values:void 0;D.value==="hour"?ge.value===!0?(d=0,b=23):(d=0,b=11,C.value===!1&&(L=12)):(d=0,b=55,W=5);const pe=[];for(let P=d,he=d;P<=b;P+=W,he++){const te=P+L,Pe=ce!==void 0&&ce.includes(te)===!1,Tt=D.value==="hour"&&P===0?ge.value===!0?"00":"12":P;pe.push({val:te,index:he,disable:Pe,label:Tt})}return pe}),ze=S(()=>[[aa,Se,void 0,{stop:!0,prevent:!0,mouse:!0}]]);me(()=>e.modelValue,d=>{const b=Ht(d,Y.value,B.value,e.calendar,ve.value);(b.dateHash!==g.value.dateHash||b.timeHash!==g.value.timeHash)&&(g.value=b,b.hour===null?D.value="hour":C.value=b.hour<12)}),me([Y,B],()=>{Kt(()=>{nt()})});function J(){const d={...w(),...eo()};nt(d),Object.assign(g.value,d),D.value="hour"}function h(d,b,L){const W=Array.apply(null,{length:b+1}).map((ce,pe)=>{const P=pe+d;return{index:P,val:L(P)===!0}}).filter(ce=>ce.val===!0).map(ce=>ce.index);return{min:W[0],max:W[W.length-1],values:W,threshold:b+1}}function k(d,b,L){const W=Math.abs(d-b);return Math.min(W,L-W)}function f(d,{min:b,max:L,values:W,threshold:ce}){if(d===b)return b;if(d<b||d>L)return k(d,b,ce)<=k(d,L,ce)?b:L;const pe=W.findIndex(te=>d<=te),P=W[pe-1],he=W[pe];return d-P<=he-d?P:he}function $(){return e.calendar!=="persian"&&e.mask!==null?e.mask:`HH:mm${e.withSeconds===!0?":ss":""}`}function E(){if(typeof e.defaultDate!="string"){const d=w(!0);return d.dateHash=rt(d),d}return Ht(e.defaultDate,"YYYY/MM/DD",void 0,e.calendar)}function j(){return Na(r)===!0||Ae.value!==null&&(Ae.value.values.length===0||D.value==="hour"&&ge.value!==!0&&we.value[C.value===!0?"am":"pm"].values.length===0)}function ee(){const d=Q.value,{top:b,left:L,width:W}=d.getBoundingClientRect(),ce=W/2;return{top:b+ce,left:L+ce,dist:ce*.7}}function Se(d){if(j()!==!0){if(d.isFirst===!0){N=ee(),V=Z(d.evt,N);return}V=Z(d.evt,N,V),d.isFinal===!0&&(N=!1,V=null,ae())}}function ae(){D.value==="hour"?D.value="minute":e.withSeconds&&D.value==="minute"&&(D.value="second")}function Z(d,b,L){const W=Ra(d),ce=Math.abs(W.top-b.top),pe=Math.sqrt(Math.pow(Math.abs(W.top-b.top),2)+Math.pow(Math.abs(W.left-b.left),2));let P,he=Math.asin(ce/pe)*(180/Math.PI);if(W.top<b.top?he=b.left<W.left?90-he:270+he:he=b.left<W.left?he+90:270-he,D.value==="hour"){if(P=he/30,we.value!==null){const te=ge.value!==!0?C.value===!0:we.value.am.values.length!==0&&we.value.pm.values.length!==0?pe>=b.dist:we.value.am.values.length!==0;P=f(P+(te===!0?0:12),we.value[te===!0?"am":"pm"])}else P=Math.round(P),ge.value===!0?pe<b.dist?P<12&&(P+=12):P===12&&(P=0):C.value===!0&&P===12?P=0:C.value===!1&&P!==12&&(P+=12);ge.value===!0&&(C.value=P<12)}else P=Math.round(he/6)%60,D.value==="minute"&&He.value!==null?P=f(P,He.value):D.value==="second"&&ye.value!==null&&(P=f(P,ye.value));return L!==P&&Qe[D.value](P),P}const le={hour(){D.value="hour"},minute(){D.value="minute"},second(){D.value="second"}};function Ke(d){d.keyCode===13&&vt()}function De(d){d.keyCode===13&&ht()}function qe(d){j()!==!0&&(l.platform.is.desktop!==!0&&Z(d,ee()),ae())}function Me(d){j()!==!0&&Z(d,ee())}function H(d){if(d.keyCode===13)D.value="hour";else if([37,39].includes(d.keyCode)){const b=d.keyCode===37?-1:1;if(we.value!==null){const L=ge.value===!0?we.value.values:we.value[C.value===!0?"am":"pm"].values;if(L.length===0)return;if(g.value.hour===null)je(L[0]);else{const W=(L.length+L.indexOf(g.value.hour)+b)%L.length;je(L[W])}}else{const L=ge.value===!0?24:12,W=ge.value!==!0&&C.value===!1?12:0,ce=g.value.hour===null?-b:g.value.hour;je(W+(24+ce+b)%L)}}}function ie(d){if(d.keyCode===13)D.value="minute";else if([37,39].includes(d.keyCode)){const b=d.keyCode===37?-1:1;if(He.value!==null){const L=He.value.values;if(L.length===0)return;if(g.value.minute===null)$e(L[0]);else{const W=(L.length+L.indexOf(g.value.minute)+b)%L.length;$e(L[W])}}else{const L=g.value.minute===null?-b:g.value.minute;$e((60+L+b)%60)}}}function st(d){if(d.keyCode===13)D.value="second";else if([37,39].includes(d.keyCode)){const b=d.keyCode===37?-1:1;if(ye.value!==null){const L=ye.value.values;if(L.length===0)return;if(g.value.seconds===null)Ye(L[0]);else{const W=(L.length+L.indexOf(g.value.second)+b)%L.length;Ye(L[W])}}else{const L=g.value.second===null?-b:g.value.second;Ye((60+L+b)%60)}}}function je(d){g.value.hour!==d&&(g.value.hour=d,Ge())}function $e(d){g.value.minute!==d&&(g.value.minute=d,Ge())}function Ye(d){g.value.second!==d&&(g.value.second=d,Ge())}const Qe={hour:je,minute:$e,second:Ye};function vt(){C.value===!1&&(C.value=!0,g.value.hour!==null&&(g.value.hour-=12,Ge()))}function ht(){C.value===!0&&(C.value=!1,g.value.hour!==null&&(g.value.hour+=12,Ge()))}function Je(d){const b=e.modelValue;D.value!==d&&b!==void 0&&b!==null&&b!==""&&typeof b!="string"&&(D.value=d)}function Ge(){if(Ve.value!==null&&Ve.value(g.value.hour)!==!0){g.value=Ht(),Je("hour");return}if(ke.value!==null&&ke.value(g.value.minute)!==!0){g.value.minute=null,g.value.second=null,Je("minute");return}if(e.withSeconds===!0&&Oe.value!==null&&Oe.value(g.value.second)!==!0){g.value.second=null,Je("second");return}g.value.hour===null||g.value.minute===null||e.withSeconds===!0&&g.value.second===null||nt()}function nt(d){const b=Object.assign({...g.value},d),L=e.calendar==="persian"?G(b.hour)+":"+G(b.minute)+(e.withSeconds===!0?":"+G(b.second):""):ba(new Date(b.year,b.month===null?null:b.month-1,b.day,b.hour,b.minute,b.second,b.millisecond),Y.value,B.value,b.year,b.timezoneOffset);b.changed=L!==e.modelValue,a("update:modelValue",L,b)}function et(){const d=[p("div",{class:"q-time__link "+(D.value==="hour"?"q-time__link--active":"cursor-pointer"),tabindex:y.value,onClick:le.hour,onKeyup:H},Ie.value.hour),p("div",":"),p("div",be.value===!0?{class:"q-time__link "+(D.value==="minute"?"q-time__link--active":"cursor-pointer"),tabindex:y.value,onKeyup:ie,onClick:le.minute}:{class:"q-time__link"},Ie.value.minute)];e.withSeconds===!0&&d.push(p("div",":"),p("div",se.value===!0?{class:"q-time__link "+(D.value==="second"?"q-time__link--active":"cursor-pointer"),tabindex:y.value,onKeyup:st,onClick:le.second}:{class:"q-time__link"},Ie.value.second));const b=[p("div",{class:"q-time__header-label row items-center no-wrap",dir:"ltr"},d)];return ge.value===!1&&b.push(p("div",{class:"q-time__header-ampm column items-between no-wrap"},[p("div",{class:"q-time__link "+(C.value===!0?"q-time__link--active":"cursor-pointer"),tabindex:y.value,onClick:vt,onKeyup:Ke},"AM"),p("div",{class:"q-time__link "+(C.value!==!0?"q-time__link--active":"cursor-pointer"),tabindex:y.value,onClick:ht,onKeyup:De},"PM")])),p("div",{class:"q-time__header flex flex-center no-wrap "+s.value},b)}function at(){const d=g.value[D.value];return p("div",{class:"q-time__content col relative-position"},[p(At,{name:"q-transition--scale"},()=>p("div",{key:"clock"+D.value,class:"q-time__container-parent absolute-full"},[p("div",{ref:Q,class:"q-time__container-child fit overflow-hidden"},[Be(p("div",{class:"q-time__clock cursor-pointer non-selectable",onClick:qe,onMousedown:Me},[p("div",{class:"q-time__clock-circle fit"},[p("div",{class:"q-time__clock-pointer"+(g.value[D.value]===null?" hidden":e.color!==void 0?` text-${e.color}`:""),style:Xe.value}),ne.value.map(b=>p("div",{class:`q-time__clock-position row flex-center q-time__clock-pos-${b.index}`+(b.val===d?" q-time__clock-position--active "+s.value:b.disable===!0?" q-time__clock-position--disable":"")},[p("span",b.label)]))])]),ze.value)])])),e.nowBtn===!0?p(re,{class:"q-time__now-button absolute",icon:l.iconSet.datetime.now,unelevated:!0,size:"sm",round:!0,color:e.color,textColor:e.textColor,tabindex:y.value,onClick:J}):null])}return r.proxy.setNow=J,()=>{const d=[at()],b=Zn(t.default);return b!==void 0&&d.push(p("div",{class:"q-time__actions"},b)),e.name!==void 0&&e.disable!==!0&&_(d,"push"),p("div",{class:_e.value,tabindex:-1},[et(),p("div",{class:"q-time__main col overflow-auto"},d)])}}});const no={class:"row items-center justify-end q-gutter-x-sm"},ao={class:"row items-center justify-end q-gutter-x-sm"},lo={__name:"InputDateTimePopup",props:{modelValue:{type:Number,default:0}},emits:["update:modelValue"],setup(e,{emit:t}){const a=e,r=t,l=w=>{r("update:modelValue",w.startOf("m").valueOf())},u=S({get(){const w=a.modelValue;return w&&tt(w).format("YYYY-MM-DD HH:mm")||""},set(w){!w||l(tt(w,"YYYY-MM-DD HH:mm"))}}),y=()=>{l(tt().subtract(1,"M").endOf("M"))},s=()=>{l(tt().endOf("M"))},v=()=>{l(tt())};return(w,m)=>(Te(),xe(St,bt({"model-value":u.value,readonly:""},w.$attrs,{onClick:m[3]||(m[3]=_=>w.$refs.dateRef.show())}),{append:U(()=>[q(jt,{name:"event",class:"cursor-pointer"},{default:U(()=>[q(fn,{ref:"dateRef",cover:""},{default:U(()=>[q(Sa,{modelValue:u.value,"onUpdate:modelValue":[m[0]||(m[0]=_=>u.value=_),m[1]||(m[1]=()=>{w.$refs.dateRef.hide(),w.$refs.timeRef.show()})],mask:"YYYY-MM-DD HH:mm"},{default:U(()=>[de("div",no,[Be(q(re,{label:"\u4E0A\u6708\u672B",flat:"",dense:"",onClick:y},null,512),[[ut]]),Be(q(re,{label:"\u672C\u6708\u672B",flat:"",dense:"",onClick:s},null,512),[[ut]]),Be(q(re,{label:"\u6B64\u523B",flat:"",dense:"",onClick:v},null,512),[[ut]])])]),_:1},8,["modelValue"])]),_:1},512),q(fn,{ref:"timeRef",cover:""},{default:U(()=>[q(to,{modelValue:u.value,"onUpdate:modelValue":m[2]||(m[2]=_=>u.value=_),mask:"YYYY-MM-DD HH:mm",format24h:""},{default:U(()=>[de("div",ao,[Be(q(re,{label:"\u786E\u8BA4",color:"primary",flat:"",dense:""},null,512),[[ut]])])]),_:1},8,["modelValue"])]),_:1},512)]),_:1})]),_:1},16,["model-value"]))}},oo={class:"col text-h6"},ro={class:"col flex items-center justify-end q-gutter-md"},io={__name:"InputMultiListSelect",props:{modelValue:Array,items:Array},emits:["update:modelValue"],setup(e,{emit:t}){const a=e,r=t,l=X(!1),u=X([]),y=S(()=>{const m=new Set(a.modelValue||[]);return a.items.filter(_=>m.has(_.id)).map(_=>_.name).join(",")}),s=S(()=>{var m;return((m=u.value)==null?void 0:m.length)&&u.value.every(_=>_.checked)});me(()=>[a.modelValue,a.items],([m,_])=>{if(!(_!=null&&_.length))return;const N=new Set(m||[]);u.value=_.map(V=>({...V,checked:N.has(V.id)}))},{immediate:!0});const v=()=>{const m=!s.value;u.value.forEach(_=>_.checked=m)},w=()=>{l.value=!1;const m=u.value.filter(_=>_.checked).map(_=>_.id);r("update:modelValue",m)};return(m,_)=>(Te(),xe(St,bt({"model-value":y.value,readonly:""},m.$attrs,{onClick:_[1]||(_[1]=N=>l.value=!0)}),{default:U(()=>[q(pn,{modelValue:l.value,"onUpdate:modelValue":_[0]||(_[0]=N=>l.value=N),position:"bottom"},{default:U(()=>[q(Jn,{style:{"min-width":"300px"}},{default:U(()=>[q(Ct,{class:"row items-center"},{default:U(()=>[de("div",oo,Et(m.$attrs.label),1),de("div",ro,[q(re,{color:"primary",flat:"",rounded:"",label:"\u786E\u5B9A",onClick:w})])]),_:1}),q(Ct,{class:"q-pt-none"},{default:U(()=>[q(re,{class:"full-width",color:"primary",label:s.value?"\u5168\u4E0D\u9009":"\u5168\u9009",onClick:v},null,8,["label"])]),_:1}),q(Ct,{class:"q-pt-none scroll",style:{"max-height":"60vh"}},{default:U(()=>[q(ll,null,{default:U(()=>[(Te(!0),zt(hn,null,vn(u.value,N=>Be((Te(),xe(Va,{tag:"label",dense:"",key:N.id},{default:U(()=>[q(kn,{side:"",top:""},{default:U(()=>[q(ea,{modelValue:N.checked,"onUpdate:modelValue":V=>N.checked=V},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),q(kn,null,{default:U(()=>[q(ol,null,{default:U(()=>[jn(Et(N.name),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)),[[Ha]])),128))]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1},16,["model-value"]))}},uo=["none","strict","leaf","leaf-filtered"];var so=_t({name:"QTree",props:{...gn,nodes:{type:Array,required:!0},nodeKey:{type:String,required:!0},labelKey:{type:String,default:"label"},childrenKey:{type:String,default:"children"},dense:Boolean,color:String,controlColor:String,textColor:String,selectedColor:String,icon:String,tickStrategy:{type:String,default:"none",validator:e=>uo.includes(e)},ticked:Array,expanded:Array,selected:{},noSelectionUnset:Boolean,defaultExpandAll:Boolean,accordion:Boolean,filter:String,filterMethod:Function,duration:Number,noConnectors:Boolean,noTransition:Boolean,noNodesLabel:String,noResultsLabel:String},emits:["update:expanded","update:ticked","update:selected","lazyLoad","afterShow","afterHide"],setup(e,{slots:t,emit:a}){const{proxy:r}=xt(),{$q:l}=r,u=yn(e,l),y=X({}),s=X(e.ticked||[]),v=X(e.expanded||[]);let w={};qa(()=>{w={}});const m=S(()=>`q-tree q-tree--${e.dense===!0?"dense":"standard"}`+(e.noConnectors===!0?" q-tree--no-connectors":"")+(u.value===!0?" q-tree--dark":"")+(e.color!==void 0?` text-${e.color}`:"")),_=S(()=>e.selected!==void 0),N=S(()=>e.icon||l.iconSet.tree.icon),V=S(()=>e.controlColor||e.color),Q=S(()=>e.textColor!==void 0?` text-${e.textColor}`:""),Y=S(()=>{const h=e.selectedColor||e.color;return h?` text-${h}`:""}),B=S(()=>e.filterMethod!==void 0?e.filterMethod:(h,k)=>{const f=k.toLowerCase();return h[e.labelKey]&&h[e.labelKey].toLowerCase().indexOf(f)>-1}),ve=S(()=>{const h={},k=(f,$)=>{const E=f.tickStrategy||($?$.tickStrategy:e.tickStrategy),j=f[e.nodeKey],ee=f[e.childrenKey]&&Array.isArray(f[e.childrenKey])&&f[e.childrenKey].length!==0,Se=f.disabled!==!0&&_.value===!0&&f.selectable!==!1,ae=f.disabled!==!0&&f.expandable!==!1,Z=E!=="none",le=E==="strict",Ke=E==="leaf-filtered",De=E==="leaf"||E==="leaf-filtered";let qe=f.disabled!==!0&&f.tickable!==!1;De===!0&&qe===!0&&$&&$.tickable!==!0&&(qe=!1);let Me=f.lazy;Me===!0&&y.value[j]!==void 0&&Array.isArray(f[e.childrenKey])===!0&&(Me=y.value[j]);const H={key:j,parent:$,isParent:ee,lazy:Me,disabled:f.disabled,link:f.disabled!==!0&&(Se===!0||ae===!0&&(ee===!0||Me===!0)),children:[],matchesFilter:e.filter?B.value(f,e.filter):!0,selected:j===e.selected&&Se===!0,selectable:Se,expanded:ee===!0?v.value.includes(j):!1,expandable:ae,noTick:f.noTick===!0||le!==!0&&Me&&Me!=="loaded",tickable:qe,tickStrategy:E,hasTicking:Z,strictTicking:le,leafFilteredTicking:Ke,leafTicking:De,ticked:le===!0?s.value.includes(j):ee===!0?!1:s.value.includes(j)};if(h[j]=H,ee===!0&&(H.children=f[e.childrenKey].map(ie=>k(ie,H)),e.filter&&(H.matchesFilter!==!0?H.matchesFilter=H.children.some(ie=>ie.matchesFilter):H.noTick!==!0&&H.disabled!==!0&&H.tickable===!0&&Ke===!0&&H.children.every(ie=>ie.matchesFilter!==!0||ie.noTick===!0||ie.tickable!==!0)===!0&&(H.tickable=!1)),H.matchesFilter===!0&&(H.noTick!==!0&&le!==!0&&H.children.every(ie=>ie.noTick)===!0&&(H.noTick=!0),De))){if(H.ticked=!1,H.indeterminate=H.children.some(ie=>ie.indeterminate===!0),H.tickable=H.tickable===!0&&H.children.some(ie=>ie.tickable),H.indeterminate!==!0){const ie=H.children.reduce((st,je)=>je.ticked===!0?st+1:st,0);ie===H.children.length?H.ticked=!0:ie>0&&(H.indeterminate=!0)}H.indeterminate===!0&&(H.indeterminateNextState=H.children.every(ie=>ie.tickable!==!0||ie.ticked!==!0))}return H};return e.nodes.forEach(f=>k(f,null)),h});me(()=>e.ticked,h=>{s.value=h}),me(()=>e.expanded,h=>{v.value=h});function R(h){const k=[].reduce,f=($,E)=>{if($||!E)return $;if(Array.isArray(E)===!0)return k.call(Object(E),f,$);if(E[e.nodeKey]===h)return E;if(E[e.childrenKey])return f(null,E[e.childrenKey])};return f(null,e.nodes)}function D(){return s.value.map(h=>R(h))}function g(){return v.value.map(h=>R(h))}function C(h){return h&&ve.value[h]?ve.value[h].expanded:!1}function _e(){e.expanded!==void 0?a("update:expanded",[]):v.value=[]}function Ie(){const h=[],k=f=>{f[e.childrenKey]&&f[e.childrenKey].length!==0&&f.expandable!==!1&&f.disabled!==!0&&(h.push(f[e.nodeKey]),f[e.childrenKey].forEach(k))};e.nodes.forEach(k),e.expanded!==void 0?a("update:expanded",h):v.value=h}function ge(h,k,f=R(h),$=ve.value[h]){if($.lazy&&$.lazy!=="loaded"){if($.lazy==="loading")return;y.value[h]="loading",Array.isArray(f[e.childrenKey])!==!0&&(f[e.childrenKey]=[]),a("lazyLoad",{node:f,key:h,done:E=>{y.value[h]="loaded",f[e.childrenKey]=Array.isArray(E)===!0?E:[],Kt(()=>{const j=ve.value[h];j&&j.isParent===!0&&Xe(h,!0)})},fail:()=>{delete y.value[h],f[e.childrenKey].length===0&&delete f[e.childrenKey]}})}else $.isParent===!0&&$.expandable===!0&&Xe(h,k)}function Xe(h,k){let f=v.value;const $=e.expanded!==void 0;if($===!0&&(f=f.slice()),k){if(e.accordion&&ve.value[h]){const E=[];ve.value[h].parent?ve.value[h].parent.children.forEach(j=>{j.key!==h&&j.expandable===!0&&E.push(j.key)}):e.nodes.forEach(j=>{const ee=j[e.nodeKey];ee!==h&&E.push(ee)}),E.length!==0&&(f=f.filter(j=>E.includes(j)===!1))}f=f.concat([h]).filter((E,j,ee)=>ee.indexOf(E)===j)}else f=f.filter(E=>E!==h);$===!0?a("update:expanded",f):v.value=f}function be(h){return h&&ve.value[h]?ve.value[h].ticked:!1}function se(h,k){let f=s.value;const $=e.ticked!==void 0;$===!0&&(f=f.slice()),k?f=f.concat(h).filter((E,j,ee)=>ee.indexOf(E)===j):f=f.filter(E=>h.includes(E)===!1),$===!0&&a("update:ticked",f)}function Ve(h,k,f){const $={tree:r,node:h,key:f,color:e.color,dark:u.value};return un($,"expanded",()=>k.expanded,E=>{E!==k.expanded&&ge(f,E)}),un($,"ticked",()=>k.ticked,E=>{E!==k.ticked&&se([f],E)}),$}function ke(h){return(e.filter?h.filter(k=>ve.value[k[e.nodeKey]].matchesFilter):h).map(k=>ye(k))}function Oe(h){if(h.icon!==void 0)return p(jt,{class:"q-tree__icon q-mr-sm",name:h.icon,color:h.iconColor});const k=h.img||h.avatar;if(k)return p("img",{class:`q-tree__${h.img?"img":"avatar"} q-mr-sm`,src:k})}function we(){a("afterShow")}function He(){a("afterHide")}function ye(h){const k=h[e.nodeKey],f=ve.value[k],$=h.header&&t[`header-${h.header}`]||t["default-header"],E=f.isParent===!0?ke(h[e.childrenKey]):[],j=E.length!==0||f.lazy&&f.lazy!=="loaded";let ee=h.body&&t[`body-${h.body}`]||t["default-body"];const Se=$!==void 0||ee!==void 0?Ve(h,f,k):null;return ee!==void 0&&(ee=p("div",{class:"q-tree__node-body relative-position"},[p("div",{class:Q.value},[ee(Se)])])),p("div",{key:k,class:`q-tree__node relative-position q-tree__node--${j===!0?"parent":"child"}`},[p("div",{class:"q-tree__node-header relative-position row no-wrap items-center"+(f.link===!0?" q-tree__node--link q-hoverable q-focusable":"")+(f.selected===!0?" q-tree__node--selected":"")+(f.disabled===!0?" q-tree__node--disabled":""),tabindex:f.link===!0?0:-1,ariaExpanded:E.length>0?f.expanded:null,role:"treeitem",onClick:ae=>{ne(h,f,ae)},onKeypress(ae){$a(ae)!==!0&&(ae.keyCode===13?ne(h,f,ae,!0):ae.keyCode===32&&ze(h,f,ae,!0))}},[p("div",{class:"q-focus-helper",tabindex:-1,ref:ae=>{w[f.key]=ae}}),f.lazy==="loading"?p(Ya,{class:"q-tree__spinner",color:V.value}):j===!0?p(jt,{class:"q-tree__arrow"+(f.expanded===!0?" q-tree__arrow--rotate":""),name:N.value,onClick(ae){ze(h,f,ae)}}):null,f.hasTicking===!0&&f.noTick!==!0?p(ea,{class:"q-tree__tickbox",modelValue:f.indeterminate===!0?null:f.ticked,color:V.value,dark:u.value,dense:!0,keepColor:!0,disable:f.tickable!==!0,onKeydown:wn,"onUpdate:modelValue":ae=>{J(f,ae)}}):null,p("div",{class:"q-tree__node-header-content col row no-wrap items-center"+(f.selected===!0?Y.value:Q.value)},[$?$(Se):[Oe(h),p("div",h[e.labelKey])]])]),j===!0?e.noTransition===!0?f.expanded===!0?p("div",{class:"q-tree__node-collapsible"+Q.value,key:`${k}__q`},[ee,p("div",{class:"q-tree__children"+(f.disabled===!0?" q-tree__node--disabled":""),role:"group"},E)]):null:p(rl,{duration:e.duration,onShow:we,onHide:He},()=>Be(p("div",{class:"q-tree__node-collapsible"+Q.value,key:`${k}__q`},[ee,p("div",{class:"q-tree__children"+(f.disabled===!0?" q-tree__node--disabled":""),role:"group"},E)]),[[Pa,f.expanded]])):ee])}function Ae(h){const k=w[h];k&&k.focus()}function ne(h,k,f,$){$!==!0&&k.selectable!==!1&&Ae(k.key),_.value&&k.selectable?e.noSelectionUnset===!1?a("update:selected",k.key!==e.selected?k.key:null):k.key!==e.selected&&a("update:selected",k.key===void 0?null:k.key):ze(h,k,f,$),typeof h.handler=="function"&&h.handler(h)}function ze(h,k,f,$){f!==void 0&&wn(f),$!==!0&&k.selectable!==!1&&Ae(k.key),ge(k.key,!k.expanded,h,k)}function J(h,k){if(h.indeterminate===!0&&(k=h.indeterminateNextState),h.strictTicking)se([h.key],k);else if(h.leafTicking){const f=[],$=E=>{E.isParent?(k!==!0&&E.noTick!==!0&&E.tickable===!0&&f.push(E.key),E.leafTicking===!0&&E.children.forEach($)):E.noTick!==!0&&E.tickable===!0&&(E.leafFilteredTicking!==!0||E.matchesFilter===!0)&&f.push(E.key)};$(h),se(f,k)}}return e.defaultExpandAll===!0&&Ie(),Object.assign(r,{getNodeByKey:R,getTickedNodes:D,getExpandedNodes:g,isExpanded:C,collapseAll:_e,expandAll:Ie,setExpanded:ge,isTicked:be,setTicked:se}),()=>{const h=ke(e.nodes);return p("div",{class:m.value,role:"tree"},h.length===0?e.filter?e.noResultsLabel||l.lang.tree.noResults:e.noNodesLabel||l.lang.tree.noNodes:h)}}});const Ta=e=>e!=null&&e.some(t=>{var a;return((a=t.children)==null?void 0:a.length)>0})?Ta(e.flatMap(t=>t.children||[])):e,co={class:"col text-h6"},fo={class:"col flex items-center justify-end q-gutter-md"},mo={__name:"InputMultiTreeSelect",props:{modelValue:Array,nodes:Array},emits:["update:modelValue"],setup(e,{emit:t}){const a=e,r=t,l=X(!1),u=X([]),y=S(()=>Ta(a.nodes)),s=S(()=>{const _=new Set(a.modelValue||[]);return y.value.filter(N=>_.has(N.id)).map(N=>N.name).join(",")}),v=S(()=>u.value.length===y.value.length),w=()=>{u.value=v.value?[]:y.value.map(_=>_.id)},m=()=>{l.value=!1,r("update:modelValue",u.value)};return me(()=>a.modelValue,_=>u.value=[..._],{immediate:!0}),(_,N)=>(Te(),xe(St,bt({"model-value":s.value,readonly:""},_.$attrs,{onClick:N[2]||(N[2]=V=>l.value=!0)}),{default:U(()=>[q(pn,{modelValue:l.value,"onUpdate:modelValue":N[1]||(N[1]=V=>l.value=V),position:"bottom"},{default:U(()=>[q(Jn,null,{default:U(()=>[q(Ct,{class:"row items-center"},{default:U(()=>[de("div",co,Et(_.$attrs.label),1),de("div",fo,[q(re,{color:"primary",flat:"",rounded:"",label:"\u786E\u5B9A",onClick:m})])]),_:1}),q(Ct,{class:"q-pt-none"},{default:U(()=>[q(re,{class:"full-width",color:"primary",label:v.value?"\u5168\u4E0D\u9009":"\u5168\u9009",onClick:w},null,8,["label"])]),_:1}),q(Ct,{class:"q-pt-none scroll",style:{"max-height":"60vh"}},{default:U(()=>[q(so,{nodes:e.nodes,ticked:u.value,"onUpdate:ticked":N[0]||(N[0]=V=>u.value=V),"node-key":"id","label-key":"name","tick-strategy":"leaf","default-expand-all":""},null,8,["nodes","ticked"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1},16,["model-value"]))}};class vo{constructor(){this.calculatedValue="",this.calculatedOperator="",this.handleKeyFunction={num:(t,a)=>a==="0"?t:a==="-0"?"-"+t:a+t,C:()=>(this.calculatedValue="",this.calculatedOperator="","0"),"+":this.handleOperatorKeys,"-":this.handleOperatorKeys,"*":this.handleOperatorKeys,"/":this.handleOperatorKeys,"\xB1":(t,a)=>String(a.startsWith("-")?-+a:"-"+a),"=":(t,a)=>{const r=this._calculate(this.calculatedValue,this.calculatedOperator,a);return this.calculatedValue="",this.calculatedOperator="",r},".":(t,a)=>a.length===0?"0.":a.includes(".")?a:a+t}}handleOperatorKeys(t,a){return a.length===0||a.endsWith(t)?a:this.calculatedOperator&&+a>0?this._calculate(this.calculatedValue,this.calculatedOperator,a):(+a!=0&&(this.calculatedValue=a,this.calculatedOperator=t),"0")}_calculate(t,a,r){if(!t||!a)return String(Mn(r).value);const l=Mn(t);return a==="+"?String(l.add(r).value):a==="-"?String(l.subtract(r).value):a==="*"?String(l.multiply(r).value):a==="/"?String(l.divide(r).value):"0"}calculate(t,a){return(this.handleKeyFunction[t]||this.handleKeyFunction.num).call(this,t,a)}}const ho=new vo,go=mn({name:"InputNumberKeyboard",components:{[An.name]:An},props:{modelValue:{type:[Number,String],default:0},show:{type:Boolean,default:!1},alwaysShow:{type:Boolean,default:!1}},emits:["click","input","close","delete","update:show","update:modelValue"],data(){const e=[["+","1","2","3"],["-","4","5","6"],["*","7","8","9"],["/","\xB1","0","."]].reduce((r,l)=>r.concat(l),[]),t=new Set([["+","1","2","3"],["-","4","5","6"],["*","7","8","9"],["/","=","0","."]].reduce((r,l)=>r.concat(l),[])),a={8:this.onDelete,13:"=",27:"C",46:this.onDelete};return{actionSheetShow:this.show||this.alwaysShow,value:String(this.modelValue),keys:e,listenerKeySet:t,listenerKeyCodeMap:a}},watch:{modelValue(e){this.value=(typeof e=="number"?String(e):e)||"0"},show(e){this.actionSheetShow=e,e?document.addEventListener("keydown",this.onKeydown):document.removeEventListener("keydown",this.onKeydown)},actionSheetShow(e){this.$emit("update:show",e)}},methods:{onClick(){this.actionSheetShow=!0,this.$emit("click")},onKeydown(e){if(this.listenerKeySet.has(e.key))this.onInput(e.key);else{const t=this.listenerKeyCodeMap[e.keyCode];typeof t=="string"?this.onInput(t):t==null||t()}},onInput(e){this.value=ho.calculate(e,this.value),this.$emit("input",e),this.$emit("update:modelValue",this.value)},onDelete(){this.value=this.value?this.value.slice(0,-1):"",this.$emit("delete"),this.$emit("update:modelValue",this.value)},onClose(){this.alwaysShow||(this.actionSheetShow=!1,this.$emit("close"))}}}),yo=e=>(Fa("data-v-826209a2"),e=e(),Ua(),e),po={class:"van-number-keyboard"},_o={class:"van-number-keyboard__body"},bo={class:"van-number-keyboard__keys"},So=["onClick"],To={class:"van-number-keyboard__sidebar"},ko={class:"van-key__wrapper"},wo=yo(()=>de("svg",{class:"van-key__delete-icon",viewBox:"0 0 32 22"},[de("path",{d:"M28 0a4 4 0 0 1 4 4v14a4 4 0 0 1-4 4H10.4a2 2 0 0 1-1.4-.6L1 13.1c-.6-.5-.9-1.3-.9-2 0-1 .3-1.7.9-2.2L9 .6a2 2 0 0 1 1.4-.6zm0 2H10.4l-8.2 8.3a1 1 0 0 0-.3.7c0 .3.1.5.3.7l8.2 8.4H28a2 2 0 0 0 2-2V4c0-1.1-.9-2-2-2zm-5 4a1 1 0 0 1 .7.3 1 1 0 0 1 0 1.4L20.4 11l3.3 3.3c.2.2.3.5.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3L19 12.4l-3.4 3.3a1 1 0 0 1-.6.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.2.1-.5.3-.7l3.3-3.3-3.3-3.3A1 1 0 0 1 14 7c0-.3.1-.5.3-.7A1 1 0 0 1 15 6a1 1 0 0 1 .6.3L19 9.6l3.3-3.3A1 1 0 0 1 23 6z",fill:"currentColor"})],-1)),Mo=[wo],Ao={class:"van-key__wrapper"},Do={class:"van-key__wrapper"},Co={class:"van-key__wrapper"};function Eo(e,t,a,r,l,u){const y=Wt("van-action-sheet");return Te(),xe(St,bt({"model-value":e.value,readonly:""},e.$attrs),{default:U(()=>[q(y,{show:e.actionSheetShow,"onUpdate:show":t[4]||(t[4]=s=>e.actionSheetShow=s),teleport:"body",round:"",overlay:!1,"safe-area-inset-bottom":""},{default:U(()=>[de("div",po,[de("div",_o,[de("div",bo,[(Te(!0),zt(hn,null,vn(e.keys,s=>(Te(),zt("div",{key:s,class:"van-key__wrapper"},[de("div",{role:"button",class:"van-key",onClick:v=>e.onInput(s)},Et(s),9,So)]))),128))]),de("div",To,[de("div",ko,[de("div",{role:"button",class:"van-key",onClick:t[0]||(t[0]=(...s)=>e.onDelete&&e.onDelete(...s))},Mo)]),de("div",Ao,[de("div",{role:"button",class:"van-key",onClick:t[1]||(t[1]=s=>e.onInput("C"))},"C")]),de("div",Do,[de("div",{role:"button",class:"van-key",onClick:t[2]||(t[2]=s=>e.onInput("="))},"=")]),de("div",Co,[de("div",{role:"button",class:"van-key van-key--blue",onClick:t[3]||(t[3]=(...s)=>e.onClose&&e.onClose(...s))}," \u5B8C\u6210 ")])])])])]),_:1},8,["show"])]),_:1},16,["model-value"])}var xo=Qt(go,[["render",Eo],["__scopeId","data-v-826209a2"]]);const Io={__name:"InputSingleListSheet",props:{modelValue:String,items:Array},emits:["update:modelValue"],setup(e,{emit:t}){const a=e,r=t,l=X(!1),u=S(()=>{var s,v;return!((s=a.items)!=null&&s.length)||!a.modelValue?"":((v=a.items.find(w=>w.id===a.modelValue))==null?void 0:v.name)||""}),y=s=>{r("update:modelValue",s.id),l.value=!1};return(s,v)=>{const w=Wt("van-action-sheet");return Te(),xe(St,bt({"model-value":u.value,readonly:""},s.$attrs,{onClick:v[1]||(v[1]=m=>l.value=!0)}),{default:U(()=>[q(w,{show:l.value,"onUpdate:show":v[0]||(v[0]=m=>l.value=m),actions:e.items,teleport:"body",round:"","safe-area-inset-bottom":"",onSelect:y},null,8,["show","actions"])]),_:1},16,["model-value"])}}},Oo=mn({name:"FieldPopupTreeSelect",components:{[Dn.name]:Dn,[Cn.name]:Cn},props:{modelValue:{type:String,default:""},items:{type:Array,default:()=>[]}},emits:["update:modelValue","update:values"],data(){return{show:!1,activeId:void 0,activeValue:{id:void 0,text:""},mainActiveIndex:void 0,mainActiveValue:{id:void 0,text:"",children:[{id:void 0,text:""}]}}},computed:{text(){var e;return(e=this.activeValue)==null?void 0:e.text},treeItems(){return this.convert(this.items)}},watch:{modelValue(){this.init()},items(){this.init()}},created(){this.init()},methods:{convert(e){var a;const t=[];for(const r of e)if((a=r.children)!=null&&a.length){const l=this.convert(r.children);t.push({...r,text:r.name,children:l})}else t.push({...r,text:r.name});return t},init(){if(this.treeItems.length===0||!this.modelValue){this.activeId=void 0,this.activeValue=void 0,this.mainActiveIndex=void 0,this.mainActiveValue=void 0;return}const{activeId:e,activeValue:t,mainActiveIndex:a,mainActiveValue:r}=this.getActiveValue(this.modelValue);this.activeId=e,this.activeValue=t,this.mainActiveIndex=a,this.mainActiveValue=r},onClickItem(e){if(this.activeValue=e,!this.mainActiveIndex){const{mainActiveIndex:t,mainActiveValue:a}=this.getActiveValue(e.id);this.mainActiveIndex=t,this.mainActiveValue=a}this.$emit("update:modelValue",e.id),this.$emit("update:values",[this.mainActiveValue,this.activeValue]),this.show=!1},getActiveValue(e){var l;let t,a,r;for(const[u,y]of this.treeItems.entries())if(t=(l=y.children)==null?void 0:l.find(s=>s.id==e),t){r=u,a=y;break}return{activeId:e,activeValue:t,mainActiveIndex:r,mainActiveValue:a}}}});function Lo(e,t,a,r,l,u){const y=Wt("van-tree-select"),s=Wt("van-popup");return Te(),xe(St,bt({"model-value":e.text,readonly:""},e.$attrs,{onClick:t[3]||(t[3]=v=>e.show=!0)}),{default:U(()=>[q(s,{show:e.show,"onUpdate:show":t[2]||(t[2]=v=>e.show=v),position:"bottom",teleport:"body",round:"",closeable:"","safe-area-inset-top":"","safe-area-inset-bottom":""},{default:U(()=>[q(y,{"active-id":e.activeId,"onUpdate:activeId":t[0]||(t[0]=v=>e.activeId=v),"main-active-index":e.mainActiveIndex,"onUpdate:mainActiveIndex":t[1]||(t[1]=v=>e.mainActiveIndex=v),style:{"padding-top":"40px"},height:"80vh",items:e.treeItems,onClickItem:e.onClickItem},null,8,["active-id","main-active-index","items","onClickItem"])]),_:1},8,["show"])]),_:1},16,["model-value"])}var Ro=Qt(Oo,[["render",Lo]]),Zo=Ba(({app:e})=>{e.use(Dl),e.component(Vn.name,Vn),e.component("DeleteConfirmBtn",Rl),e.component("MainWrapperLayout",ql),e.component("InputDatePopup",Xl),e.component("InputDateTimePopup",lo),e.component("InputMultiListSelect",io),e.component("InputMultiTreeSelect",mo),e.component("InputNumberKeyboard",xo),e.component("InputSingleListSheet",Io),e.component("InputSingleTreeSelect",Ro)});export{Zo as default};
